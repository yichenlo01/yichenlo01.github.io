var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);i.prototype=e.prototype,t.prototype=new i},__awaiter=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))(function(n,o){function h(t){try{r(s.next(t))}catch(e){o(e)}}function u(t){try{r(s["throw"](t))}catch(e){o(e)}}function r(t){t.done?n(t.value):new i(function(e){e(t.value)}).then(h,u)}r((s=s.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function i(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(h=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(h=h.call(o,i[1])).done)return h;switch(o=0,h&&(i=[0,h.value]),i[0]){case 0:case 1:h=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(h=r.trys,!(h=h.length>0&&h[h.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!h||i[1]>h[0]&&i[1]<h[3])){r.label=i[1];break}if(6===i[0]&&r.label<h[1]){r.label=h[1],h=i;break}if(h&&r.label<h[2]){r.label=h[2],r.ops.push(i);break}h[2]&&r.ops.pop(),r.trys.pop();continue}i=e.call(t,r)}catch(s){i=[6,s],o=0}finally{n=h=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var n,o,h,u,r={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return u={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u},LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.onProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function s(s){e.call(i,s,t)}if(RES.hasRes(t)){var n=RES.getRes(t);n?s(n):RES.getResAsync(t,s,this)}else RES.getResByUrl(t,s,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var AxisGroup=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.layContents()},e.prototype.layContents=function(){this.mute=!1,this.bigwin=!1,this.bet_multiple=1,this.winMoney=0,this.totalWinMoney=0,this.winNum=0;var t=(new eui.Theme("resource/default.thm.json",this.stage),new eui.Group);t.scrollEnabled=!0,t.x=235,t.y=145,t.width=1440,t.height=710,this.myGroup=t,this.addChild(t);var e=new egret.Shape;e.graphics.lineStyle(3,65280),e.graphics.beginFill(1123020,0),e.graphics.drawRect(0,0,t.width,t.height),e.graphics.endFill(),this.axis_1=new Axis,t.addChild(this.axis_1),this.axis_2=new Axis,this.axis_2.x=485,t.addChild(this.axis_2),this.axis_3=new Axis,this.axis_3.x=965,t.addChild(this.axis_3),this.blackScreen=new egret.Shape,this.blackScreen.graphics.beginFill(0),this.blackScreen.graphics.drawRect(0,0,1440,712),this.blackScreen.graphics.endFill(),this.blackScreen.x=0,this.blackScreen.y=0,this.blackScreen.alpha=0,t.addChild(this.blackScreen),this.resultGroup=new eui.Group,this.resultGroup.scrollEnabled=!0,this.resultGroup.x=235,this.resultGroup.y=145,this.resultGroup.width=1440,this.resultGroup.height=710,this.resultGroup.alpha=0,this.addChild(this.resultGroup),this.winResultSymbol_1=new Symbol,this.winResultSymbol_1.x=this.axis_1.x,this.winResultSymbol_1.y=this.axis_1.getOneSymbol(1).y,this.resultGroup.addChild(this.winResultSymbol_1),this.winResultSymbol_2=new Symbol,this.winResultSymbol_2.x=this.axis_2.x,this.winResultSymbol_2.y=this.axis_2.getOneSymbol(1).y,this.resultGroup.addChild(this.winResultSymbol_2),this.winResultSymbol_3=new Symbol,this.winResultSymbol_3.x=this.axis_3.x,this.winResultSymbol_3.y=this.axis_3.getOneSymbol(1).y,this.resultGroup.addChild(this.winResultSymbol_3),this.lineGroup=new eui.Group,this.lineGroup.scrollEnabled=!0,this.lineGroup.x=235,this.lineGroup.y=145,this.lineGroup.width=1440,this.lineGroup.height=710,this.lineGroup.alpha=1,this.addChild(this.lineGroup),this.mainSheet=RES.getRes("main_json"),this.main_line=new egret.Bitmap,this.main_line.texture=this.mainSheet.getTexture("img_main_line"),this.main_line.x=-25,this.main_line.y=330,this.main_line.alpha=0,this.lineGroup.addChild(this.main_line),this.symbol_mask=new egret.Bitmap,this.symbol_mask.texture=RES.getRes("img_symbol_mask_png"),this.symbol_mask.x=450,this.symbol_mask.y=130,this.symbol_mask.alpha=0,this.lineGroup.addChild(this.symbol_mask),this.createBigWin(),this.createSound()},e.prototype.setAxis_1=function(t,e,i,s,n,o,h){this.axis_1.setSymbolQ(t,e,i,s,n,o,h),this.axis_1.takeSymbol(),this.axis_1.setResult()},e.prototype.setAxis_2=function(t,e,i,s,n,o,h){this.axis_2.setSymbolQ(t,e,i,s,n,o,h),this.axis_2.takeSymbol(),this.axis_2.setResult()},e.prototype.setAxis_3=function(t,e,i,s,n,o,h){this.axis_3.setSymbolQ(t,e,i,s,n,o,h),this.axis_3.takeSymbol(),this.axis_3.setResult()},e.prototype.createSound=function(){this.ui_stop=new egret.Sound,this.ui_stop=RES.getRes("UI_Stop_mp3"),this.ui_normal_link=new egret.Sound,this.ui_normal_link=RES.getRes("UI_Normal_Link_mp3")},e.prototype.spinFunction=function(){var t=this;this.totalWinMoney=0;var e=egret.Tween.get(this.axis_1);e.to({y:7700},2100,egret.Ease.quartInOut).call(function(){0==t.mute&&t.ui_stop.play(0,1)}).to({y:7680},500,egret.Ease.quartOut).call(function(){this.axis_1.reset(),this.axis_1.y=0},this),setTimeout(function(){var e=egret.Tween.get(t.axis_2);e.to({y:7700},2100,egret.Ease.quartInOut).call(function(){0==t.mute&&t.ui_stop.play(0,1)}).to({y:7680},500,egret.Ease.quartOut).call(function(){this.axis_2.reset(),this.axis_2.y=0},t)},200),setTimeout(function(){var e=egret.Tween.get(t.axis_3);e.to({y:7700},2100,egret.Ease.quartInOut).call(function(){0==t.mute&&t.ui_stop.play(0,1)}).to({y:7680},500,egret.Ease.quartOut).call(function(){this.axis_3.reset(),this.axis_3.y=0,this.judge(),0==this.bigwin&&this.dispatchEventWith("spinEnd")},t)},400)},e.prototype.normalWinAinm=function(){var t=this;this.blackScreen.alpha=.6,this.main_line.alpha=1,this.symbol_mask.alpha=1,this.axis_1.getOneSymbol(1).alpha=0,this.axis_2.getOneSymbol(1).alpha=0,this.axis_3.getOneSymbol(1).alpha=0,this.winResultSymbol_1.setSymbol(this.axis_1.getOneSymbol(1).getSymbolNum()),this.winResultSymbol_2.setSymbol(this.axis_2.getOneSymbol(1).getSymbolNum()),this.winResultSymbol_3.setSymbol(this.axis_3.getOneSymbol(1).getSymbolNum()),this.resultGroup.alpha=1;var e=egret.Tween.get(this.resultGroup,{loop:!0});e.wait(600).to({alpha:0},200).wait(600).call(function(){0==t.mute&&t.ui_normal_link.play(0,1)});var i=egret.Tween.get(this.symbol_mask,{loop:!0});i.to({alpha:.9},300).to({alpha:1},300)},e.prototype.remove_NormalWinAinm=function(){this.blackScreen.alpha=0,this.main_line.alpha=0,this.symbol_mask.alpha=0,this.axis_1.getOneSymbol(1).alpha=1,this.axis_2.getOneSymbol(1).alpha=1,this.axis_3.getOneSymbol(1).alpha=1,egret.Tween.removeTweens(this.resultGroup),egret.Tween.removeTweens(this.symbol_mask),this.resultGroup.alpha=0},e.prototype.judge=function(){var t=this.axis_1.getResult(),e=this.axis_2.getResult(),i=this.axis_3.getResult();t==e&&e==i?(this.judgeWinNumber(t),this.totalWinMoney+=this.getWinMoney(this.winNum)*this.bet_multiple,this.normalWinAinm(),console.log("同SYMBOL連線")):1==t||2==t||3==t?(1==e||2==e||3==e)&&(1==i||2==i||3==i)&&(this.normalWinAinm(),this.totalWinMoney+=this.getWinMoney(8)*this.bet_multiple,console.log("不同SYMBOL連線")):(4==t||5==t||6==t||7==t)&&(4==e||5==e||6==e||7==e)&&(4==i||5==i||6==i||7==i)&&(this.normalWinAinm(),this.totalWinMoney+=this.getWinMoney(9)*this.bet_multiple,console.log("不同SYMBOL連線"))},e.prototype.judgeWinNumber=function(t){switch(t){case 1:this.winNum=1;break;case 2:this.winNum=2;break;case 3:this.winNum=3;break;case 4:this.winNum=4;break;case 5:this.winNum=5;break;case 6:this.winNum=6;break;case 7:this.winNum=7}},e.prototype.getWinMoney=function(t){switch(t){case 1:this.winMoney=4;break;case 2:this.winMoney=5;break;case 3:this.winMoney=10;break;case 4:this.winMoney=10;break;case 5:this.winMoney=20;break;case 6:this.winMoney=40;break;case 7:this.winMoney=100;break;case 8:this.winMoney=3;break;case 9:this.winMoney=5}return this.winMoney},e.prototype.getTotalWin=function(){return this.totalWinMoney},e.prototype.createBigWin=function(){this.bigWinMoney_Text=new egret.BitmapText,this.bigWinMoney_Text.font=RES.getRes("num_bigwin_fnt"),this.bigWinMoney_Text.scaleX=.6,this.bigWinMoney_Text.scaleY=.6,this.bigWinMoney_Text.width=2e3,this.bigWinMoney_Text.textAlign=egret.HorizontalAlign.CENTER,this.bigWinMoney_Text.x=400,this.bigWinMoney_Text.y=600,this.bigWinMoney_Text.text="0",this.bigWinMoney_Text.alpha=0,this.addChild(this.bigWinMoney_Text),this.bigwinImg=new egret.Bitmap,this.bigwinImg.texture=this.mainSheet.getTexture("img_bigwin"),this.bigwinImg.x=300,this.bigwinImg.y=100,this.bigwinImg.alpha=0,this.addChild(this.bigwinImg)},e.prototype.showBigWin=function(){var t=this;this.blackScreen.alpha=.6,this.bigWinMoney_Text.alpha=1,this.bigwinImg.alpha=1;var e=0;this.moneyPlus=setInterval(function(){e+=Math.round(t.totalWinMoney/16),t.totalWinMoney/10<1&&(e+=1),t.bigWinMoney_Text.text=""+e,e>=t.winMoney&&(clearInterval(t.moneyPlus),t.bigWinMoney_Text.text=""+t.totalWinMoney)},100)},e.prototype.removeBigWin=function(){},e.prototype.setBet_multiple=function(t){this.bet_multiple=t},e.prototype.muteTure=function(){this.mute=!0},e.prototype.muteFalse=function(){this.mute=!1},e}(eui.Group);__reflect(AxisGroup.prototype,"AxisGroup");var GameContainer=function(t){function e(){var e=t.call(this)||this;return e.mute=!1,e.autoSpin_ing=!1,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.credits=1e6,this.mute_bool=!1,this.autoSpin_bool=!1,this.spinBool=!1,this.winMoney=0,this.bet_multiple=[1,5,10,30,50,100,250,500,1e3,2e3,3e3,5e3],this.bet_multipleIndex=0,this.total_bet=1,this.bg=new egret.Bitmap,this.bg.texture=RES.getRes("img_base_bg_jpg"),this.addChild(this.bg),this.buttonSheet=RES.getRes("btn_json"),this.axisGroup=new AxisGroup,this.addChild(this.axisGroup);var t=RES.getRes("clip_fs_character_json"),e=RES.getRes("clip_fs_character_png"),i=new egret.MovieClipDataFactory(t,e),s=new egret.MovieClip(i.generateMovieClipData("anim"));s.gotoAndPlay("stay",-1),s.x=1570,s.y=125,this.addChild(s);var n=RES.getRes("main_json"),o=new egret.Bitmap;o.texture=n.getTexture("img_front"),o.x=1509,o.y=636,this.addChild(o),this.createButton(),this.createText(),this.helpPanel=new HelpPanel,this.helpPanel.alpha=0,this.addChild(this.helpPanel),this.readyStart(),this.request()},e.prototype.request=function(){var t="http://104.199.142.94/html5/monkeyoffice_backend/get.php",e=new egret.URLLoader;e.addEventListener(egret.Event.COMPLETE,this.onPostComplete,this);var i=new egret.URLRequest(t);i.method=egret.URLRequestMethod.GET,i.data=new egret.URLVariables,e.load(i)},e.prototype.onPostComplete=function(t){var e=t.target,i=e.data,s=(JSON.stringify(i),i.toString()),n=JSON.parse(s);this.axis_1_symbol=[],this.axis_1_symbol=[n[0][0].sym1,n[0][0].sym2,n[0][0].sym3,n[0][0].sym4,n[0][0].sym5,n[0][0].sym6,n[0][0].sym7],this.axisGroup.setAxis_1(this.axis_1_symbol[0],this.axis_1_symbol[1],this.axis_1_symbol[2],this.axis_1_symbol[3],this.axis_1_symbol[4],this.axis_1_symbol[5],this.axis_1_symbol[6]),this.axis_2_symbol=[],this.axis_2_symbol=[n[1][0].sym1,n[1][0].sym2,n[1][0].sym3,n[1][0].sym4,n[1][0].sym5,n[1][0].sym6,n[1][0].sym7],this.axisGroup.setAxis_2(this.axis_2_symbol[0],this.axis_2_symbol[1],this.axis_2_symbol[2],this.axis_2_symbol[3],this.axis_2_symbol[4],this.axis_2_symbol[5],this.axis_2_symbol[6]),this.axis_3_symbol=[],this.axis_3_symbol=[n[2][0].sym1,n[2][0].sym2,n[2][0].sym3,n[2][0].sym4,n[2][0].sym5,n[2][0].sym6,n[2][0].sym7],this.axisGroup.setAxis_3(this.axis_3_symbol[0],this.axis_3_symbol[1],this.axis_3_symbol[2],this.axis_3_symbol[3],this.axis_3_symbol[4],this.axis_3_symbol[5],this.axis_3_symbol[6])},e.prototype.readyStart=function(){var t=this,e=new egret.Shape;e.graphics.beginFill(0,.5),e.graphics.drawRect(0,0,1920,1080),e.graphics.endFill(),this.addChild(e);var i=new eui.Button;i.label="START",this.addChild(i),i.enabled=!0,i.x=950,i.y=500,i.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.removeChild(e),t.removeChild(i),t.spinButton.touchEnabled=!0,t.helpButton.touchEnabled=!0,t.muteButton.touchEnabled=!0,t.betMoreButton.touchEnabled=!0,t.betLessButton.touchEnabled=!0,t.autoSpinButton.touchEnabled=!0,t.createSound()},this)},e.prototype.autoSpin=function(){this.autoSpin_bool=!0,this.spin_END()},e.prototype.createSound=function(){this.bgm_ng=new egret.Sound,this.bgm_ng=RES.getRes("BGM_NG_mp3"),this.channel=this.bgm_ng.play(0,1),this.ui_bet=new egret.Sound,this.ui_bet=RES.getRes("UI_Bet_mp3"),this.ui_debet=new egret.Sound,this.ui_debet=RES.getRes("UI_DeBet_mp3"),this.ui_button=new egret.Sound,this.ui_button=RES.getRes("UI_Button_mp3"),this.ui_close=new egret.Sound,this.ui_close=RES.getRes("UI_Close_mp3"),this.ui_spin=new egret.Sound,this.ui_spin=RES.getRes("UI_Spin_mp3"),this.win_rolling_small=new egret.Sound,this.win_rolling_small=RES.getRes("Win_Rolling_Small_mp3"),this.ui_count_once=new egret.Sound,this.ui_count_once=RES.getRes("UI_Count_Once_mp3")},e.prototype.createText=function(){this.bet_muluipleText=new egret.BitmapText,this.bet_muluipleText.font=RES.getRes("num_bet3_fnt"),this.bet_muluipleText.width=200,this.bet_muluipleText.textAlign=egret.HorizontalAlign.CENTER,this.bet_muluipleText.x=280,this.bet_muluipleText.y=968,this.bet_muluipleText.text="x"+this.bet_multiple[0],this.addChild(this.bet_muluipleText),this.totall_bet_Text=new egret.BitmapText,this.totall_bet_Text.font=RES.getRes("num_bet3_fnt"),this.totall_bet_Text.width=200,this.totall_bet_Text.textAlign=egret.HorizontalAlign.CENTER,this.totall_bet_Text.x=485,this.totall_bet_Text.y=968,this.totall_bet_Text.text="$"+this.bet_multiple[0],this.addChild(this.totall_bet_Text),this.winMoney_Text=new egret.BitmapText,this.winMoney_Text.font=RES.getRes("num_bigwin_fnt"),this.winMoney_Text.scaleX=.17,this.winMoney_Text.scaleY=.17,this.winMoney_Text.width=5e3,this.winMoney_Text.textAlign=egret.HorizontalAlign.CENTER,this.winMoney_Text.x=543,this.winMoney_Text.y=938,this.winMoney_Text.text="0",this.addChild(this.winMoney_Text),this.credits_Text=new egret.BitmapText,this.credits_Text.font=RES.getRes("num_bigwin_fnt"),this.credits_Text.scaleX=.17,this.credits_Text.scaleY=.17,this.credits_Text.width=1e4,this.credits_Text.textAlign=egret.HorizontalAlign.CENTER,this.credits_Text.x=-365,this.credits_Text.y=892,this.credits_Text.text=""+this.credits,this.addChild(this.credits_Text)},e.prototype.createButton=function(){mouse.enable(this.stage),this.spinButton=new egret.Bitmap,this.spinButton.texture=this.buttonSheet.getTexture("btn_spin_up"),this.spinButton.x=1470,this.spinButton.y=880,this.addChild(this.spinButton),this.spinButton.touchEnabled=!1,this.spinButton.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.spin_BEGIN,this),this.spinButton.addEventListener(egret.TouchEvent.TOUCH_END,this.spin_END,this),this.spinButton.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.spin_MOUSE_OUT,this),this.takeMoneyButton=new egret.Bitmap,this.takeMoneyButton.texture=this.buttonSheet.getTexture("btn_takewin_up"),this.takeMoneyButton.x=1470,this.takeMoneyButton.y=880,this.addChild(this.takeMoneyButton),this.takeMoneyButton.touchEnabled=!1,this.takeMoneyButton.alpha=0,this.takeMoneyButton.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.takeMoney_BEGIN,this),this.takeMoneyButton.addEventListener(egret.TouchEvent.TOUCH_END,this.takeMoney_END,this),this.takeMoneyButton.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.takeMoney_MOUSE_OUT,this),this.autoSpinButton=new egret.Bitmap,this.autoSpinButton.texture=this.buttonSheet.getTexture("btn_auto_up"),this.autoSpinButton.x=1210,this.autoSpinButton.y=880,this.addChild(this.autoSpinButton),this.autoSpinButton.touchEnabled=!1,this.autoSpinButton.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.autoSpin_BEGIN,this),this.autoSpinButton.addEventListener(egret.TouchEvent.TOUCH_END,this.autoSpin_END,this),this.autoSpinButton.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.autoSpin_MOUSE_OUT,this),this.stop_autoSpinButton=new egret.Bitmap,this.stop_autoSpinButton.texture=this.buttonSheet.getTexture("btn_stop_auto_up"),this.stop_autoSpinButton.x=1210,this.stop_autoSpinButton.y=880,this.addChild(this.stop_autoSpinButton),this.stop_autoSpinButton.touchEnabled=!1,this.stop_autoSpinButton.alpha=0,this.stop_autoSpinButton.addEventListener(egret.TouchEvent.TOUCH_END,this.stop_autoSpinButton_END,this),this.helpButton=new egret.Bitmap,this.helpButton.texture=this.buttonSheet.getTexture("btn_help_up"),this.helpButton.x=142.5,this.helpButton.y=874,this.addChild(this.helpButton),this.helpButton.touchEnabled=!1,this.helpButton.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.help_BEGIN,this),this.helpButton.addEventListener(egret.TouchEvent.TOUCH_END,this.help_END,this),this.helpButton.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.help_MOUSE_OUT,this),this.muteButton=new egret.Bitmap,this.muteButton.texture=this.buttonSheet.getTexture("btn_unmute_up"),this.muteButton.x=142.5,this.muteButton.y=958,this.addChild(this.muteButton),this.muteButton.touchEnabled=!1,this.muteButton.addEventListener(egret.TouchEvent.TOUCH_END,this.mute_END,this),this.betMoreButton=new egret.Bitmap,this.betMoreButton.texture=this.buttonSheet.getTexture("btn_bet_more_up"),this.betMoreButton.x=445,this.betMoreButton.y=953,this.addChild(this.betMoreButton),this.betMoreButton.touchEnabled=!1,this.betMoreButton.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betMore_BEGIN,this),this.betMoreButton.addEventListener(egret.TouchEvent.TOUCH_END,this.betMore_END,this),this.betMoreButton.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.betMore_MOUSE_OUT,this),this.betLessButton=new egret.Bitmap,this.betLessButton.texture=this.buttonSheet.getTexture("btn_bet_less_up"),this.betLessButton.x=240,this.betLessButton.y=953,this.addChild(this.betLessButton),this.betLessButton.touchEnabled=!1,this.betLessButton.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betLess_BEGIN,this),this.betLessButton.addEventListener(egret.TouchEvent.TOUCH_END,this.betLess_END,this),this.betLessButton.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.betLess_MOUSE_OUT,this)},e.prototype.mute_END=function(){0==this.mute?(this.muteButton.texture=this.buttonSheet.getTexture("btn_mute_up"),this.channel.stop(),this.channel_win_rolling_small&&this.channel_win_rolling_small.stop(),this.mute=!0,this.axisGroup.muteTure()):(this.muteButton.texture=this.buttonSheet.getTexture("btn_unmute_up"),this.channel=this.bgm_ng.play(0,1),this.mute=!1,this.axisGroup.muteFalse())},e.prototype.turnOnOff_Button=function(){0==this.spinBool?(this.spinButton.touchEnabled=!1,this.helpButton.touchEnabled=!1,this.betMoreButton.touchEnabled=!1,this.betLessButton.touchEnabled=!1,this.autoSpinButton.touchEnabled=!1):1==this.spinBool&&(this.spinButton.touchEnabled=!0,this.helpButton.touchEnabled=!0,this.betMoreButton.touchEnabled=!0,this.betLessButton.touchEnabled=!0,this.autoSpinButton.touchEnabled=!0)},e.prototype.spin_BEGIN=function(){this.spinButton.texture=this.buttonSheet.getTexture("btn_spin_down")},e.prototype.spin_END=function(){this.request(),this.axisGroup.addEventListener("spinEnd",this.spinEndFunction,this),this.spinButton.texture=this.buttonSheet.getTexture("btn_spin_up"),this.winMoney=0,this.credits-=this.bet_multiple[this.bet_multipleIndex],this.credits_Text.text=""+this.credits,this.axisGroup.remove_NormalWinAinm(),this.axisGroup.spinFunction(),this.spinBool=!1,this.turnOnOff_Button(),0==this.mute&&this.ui_spin.play(0,1)},e.prototype.autoSpin_BEGIN=function(){this.autoSpinButton.texture=this.buttonSheet.getTexture("btn_auto_down")},e.prototype.autoSpin_END=function(){this.autoSpinButton.texture=this.buttonSheet.getTexture("btn_auto_up"),this.autoSpinButton.touchEnabled=!1,this.autoSpinButton.alpha=0,this.stop_autoSpinButton.alpha=1,this.stop_autoSpinButton.touchEnabled=!0,this.autoSpin_bool=!0,this.spin_END()},e.prototype.autoSpin_MOUSE_OUT=function(){this.autoSpinButton.texture=this.buttonSheet.getTexture("btn_auto_up")},e.prototype.stop_autoSpinButton_END=function(){this.stop_autoSpinButton.alpha=0,this.stop_autoSpinButton.touchEnabled=!1,this.autoSpinButton.alpha=1,this.autoSpin_bool=!1},e.prototype.spinEndFunction=function(){var t=this;if(this.axisGroup.removeEventListener("spinEnd",this.spinEndFunction,this),0!=this.axisGroup.getTotalWin()){0==this.mute&&(this.channel_win_rolling_small=this.win_rolling_small.play(0,1)),this.winMoney+=this.axisGroup.getTotalWin(),0==this.autoSpin_bool&&(this.spinButton.alpha=0,this.spinButton.touchEnabled=!1,this.takeMoneyButton.alpha=1,this.takeMoneyButton.touchEnabled=!0);var e=0;this.moneyPlus=setInterval(function(){e+=Math.round(t.winMoney/21),t.winMoney/10<=1&&(e+=1),t.winMoney_Text.text=""+e,e>=t.winMoney&&(clearInterval(t.moneyPlus),t.channel_win_rolling_small&&t.channel_win_rolling_small.stop(),0==t.mute&&t.ui_count_once.play(0,1),t.winMoney_Text.text=""+t.winMoney,1==t.autoSpin_bool?(t.spinButton.touchEnabled=!1,t.winMoney_Text.text="0",t.credits+=t.winMoney,t.credits_Text.text=""+t.credits,t.spin_END()):0==t.autoSpin_bool&&(t.spinButton.alpha=0,t.spinButton.touchEnabled=!1,t.takeMoneyButton.alpha=1,t.takeMoneyButton.touchEnabled=!0))},100)}else 0==this.winMoney&&(0==this.autoSpin_bool?(this.spinButton.alpha=1,this.spinButton.touchEnabled=!0,this.takeMoneyButton.alpha=0,this.takeMoneyButton.touchEnabled=!1,this.spinBool=!0,this.turnOnOff_Button()):1==this.autoSpin_bool&&(this.spinButton.touchEnabled=!1,this.winMoney_Text.text="0",this.credits+=this.winMoney,this.credits_Text.text=""+this.credits,this.spin_END()))},e.prototype.spin_MOUSE_MOVE=function(){},e.prototype.spin_MOUSE_OUT=function(){this.spinButton.texture=this.buttonSheet.getTexture("btn_spin_up")},e.prototype.takeMoney_BEGIN=function(){this.takeMoneyButton.texture=this.buttonSheet.getTexture("btn_takewin_down")},e.prototype.takeMoney_END=function(){this.takeMoneyButton.texture=this.buttonSheet.getTexture("btn_takewin_up"),this.axisGroup.remove_NormalWinAinm(),clearInterval(this.moneyPlus),this.channel_win_rolling_small&&this.channel_win_rolling_small.stop(),0==this.mute&&this.ui_count_once.play(0,1),this.winMoney_Text.text="0",this.credits+=this.winMoney,this.credits_Text.text=""+this.credits,this.spinButton.alpha=1,this.spinButton.touchEnabled=!0,this.takeMoneyButton.alpha=0,this.takeMoneyButton.touchEnabled=!1,this.autoSpinButton.touchEnabled=!0,this.spinBool=!0,this.turnOnOff_Button()},e.prototype.takeMoney_MOUSE_OUT=function(){this.takeMoneyButton.texture=this.buttonSheet.getTexture("btn_takewin_up")},e.prototype.help_BEGIN=function(){this.helpButton.texture=this.buttonSheet.getTexture("btn_help_down")},e.prototype.help_END=function(){this.helpButton.texture=this.buttonSheet.getTexture("btn_help_up"),this.helpPanel.alpha=1,this.autoSpinButton.touchEnabled=!1,this.spinButton.touchEnabled=!1,this.helpButton.touchEnabled=!1,this.muteButton.touchEnabled=!1,this.betMoreButton.touchEnabled=!1,this.betLessButton.touchEnabled=!1,0==this.mute&&this.ui_button.play(0,1),this.helpPanel.addEventListener("helpClose",this.helpClose,this)},e.prototype.helpClose=function(){this.helpPanel.removeEventListener("helpClose",this.helpClose,this),0==this.mute&&this.ui_close.play(0,1),this.spinButton.touchEnabled=!0,this.autoSpinButton.touchEnabled=!0,this.helpButton.touchEnabled=!0,this.muteButton.touchEnabled=!0,this.betMoreButton.touchEnabled=!0,this.betLessButton.touchEnabled=!0},e.prototype.help_MOUSE_OUT=function(){this.helpButton.texture=this.buttonSheet.getTexture("btn_help_up")},e.prototype.betMore_BEGIN=function(){this.betMoreButton.texture=this.buttonSheet.getTexture("btn_bet_more_down")},e.prototype.betMore_END=function(){0==this.mute&&this.ui_bet.play(0,1),this.betMoreButton.texture=this.buttonSheet.getTexture("btn_bet_more_up"),this.bet_multipleIndex++,this.bet_multipleIndex>=this.bet_multiple.length&&(this.bet_multipleIndex=0),this.bet_muluipleText.text="x"+this.bet_multiple[this.bet_multipleIndex],this.totall_bet_Text.text="$"+this.bet_multiple[this.bet_multipleIndex],this.axisGroup.setBet_multiple(this.bet_multiple[this.bet_multipleIndex])},e.prototype.betMore_MOUSE_OUT=function(){this.betMoreButton.texture=this.buttonSheet.getTexture("btn_bet_more_up")},e.prototype.betLess_BEGIN=function(){this.betLessButton.texture=this.buttonSheet.getTexture("btn_bet_less_down")},e.prototype.betLess_END=function(){0==this.mute&&this.ui_debet.play(0,1),this.betLessButton.texture=this.buttonSheet.getTexture("btn_bet_less_up"),this.bet_multipleIndex--,this.bet_multipleIndex<0&&(this.bet_multipleIndex=this.bet_multiple.length-1),this.bet_muluipleText.text="x"+this.bet_multiple[this.bet_multipleIndex],this.totall_bet_Text.text="$"+this.bet_multiple[this.bet_multipleIndex],this.axisGroup.setBet_multiple(this.bet_multiple[this.bet_multipleIndex])},e.prototype.betLess_MOUSE_OUT=function(){this.betLessButton.texture=this.buttonSheet.getTexture("btn_bet_less_up")},e}(egret.DisplayObjectContainer);__reflect(GameContainer.prototype,"GameContainer");var GroupDemo=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.layContents()},e.prototype.layContents=function(){var t=(new eui.Theme("resource/default.thm.json",this.stage),new eui.Group);t.x=100,t.y=100,t.width=500,t.height=300,this.myGroup=t,this.addChild(t);var e=new egret.Shape;e.graphics.lineStyle(3,65280),e.graphics.beginFill(1123020,0),e.graphics.drawRect(0,0,500,300),e.graphics.endFill(),t.addChild(e);for(var i=0;4>i;i++){var s=new eui.Button;s.label="button"+i,s.x=10+30*i,s.y=10+30*i,t.addChild(s)}t.layout=new eui.VerticalLayout},e}(eui.Group);__reflect(GroupDemo.prototype,"GroupDemo");var HelpPanel=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.pageNum=0,this.buttonSheet=RES.getRes("btn_json"),this.blackPanel=new egret.Shape,this.blackPanel.graphics.beginFill(0),this.blackPanel.graphics.drawRect(0,0,1920,1080),this.blackPanel.graphics.endFill(),this.blackPanel.alpha=.7,this.addChild(this.blackPanel),this.page_1=new egret.Bitmap,this.page_1.texture=RES.getRes("img_help1_jpg"),this.page_1.x=180,this.page_1.y=84,this.addChild(this.page_1),this.help_left=new egret.Bitmap,this.help_left.texture=this.buttonSheet.getTexture("btn_help_left_up"),this.help_left.x=240,this.help_left.y=420,this.addChild(this.help_left),this.help_left.touchEnabled=!0,this.help_left.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.letfFunction_BEGIN,this),this.help_left.addEventListener(egret.TouchEvent.TOUCH_END,this.letfFunction_END,this),this.help_left.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.letfFunction_MOUSE_OUT,this),this.help_right=new egret.Bitmap,this.help_right.texture=this.buttonSheet.getTexture("btn_help_right_up"),this.help_right.x=1583,this.help_right.y=420,this.addChild(this.help_right),this.help_right.touchEnabled=!0,this.help_right.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.rightFunction_BEGIN,this),this.help_right.addEventListener(egret.TouchEvent.TOUCH_END,this.rightFunction_END,this),this.help_right.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.rightFunction_MOUSE_OUT,this),this.closeBtn=new egret.Bitmap,this.closeBtn.texture=this.buttonSheet.getTexture("btn_help_return_up"),this.closeBtn.x=1650,this.closeBtn.y=40,this.addChild(this.closeBtn),this.closeBtn.touchEnabled=!0,this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.closeFunction_BEGIN,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_END,this.closeFunction_END,this),this.closeBtn.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.closeFunction_MOUSE_OUT,this),this.ui_close=new egret.Sound,this.ui_close=RES.getRes("UI_Close_mp3")},e.prototype.letfFunction_BEGIN=function(){this.help_left.texture=this.buttonSheet.getTexture("btn_help_left_down")},e.prototype.letfFunction_END=function(){this.help_left.texture=this.buttonSheet.getTexture("btn_help_left_up"),this.pageNum--,this.pageNum<0&&(this.pageNum=1),this.changePage()},e.prototype.letfFunction_MOUSE_OUT=function(){this.help_left.texture=this.buttonSheet.getTexture("btn_help_left_up")},e.prototype.rightFunction_BEGIN=function(){this.help_right.texture=this.buttonSheet.getTexture("btn_help_right_down")},e.prototype.rightFunction_END=function(){this.help_right.texture=this.buttonSheet.getTexture("btn_help_right_up"),this.pageNum++,this.pageNum>1&&(this.pageNum=0),this.changePage()},e.prototype.rightFunction_MOUSE_OUT=function(){this.help_right.texture=this.buttonSheet.getTexture("btn_help_right_up")},e.prototype.closeFunction_BEGIN=function(){this.closeBtn.texture=this.buttonSheet.getTexture("btn_help_return_down")},e.prototype.closeFunction_END=function(){this.closeBtn.texture=this.buttonSheet.getTexture("btn_help_return_up"),this.alpha=0,this.dispatchEventWith("helpClose")},e.prototype.closeFunction_MOUSE_OUT=function(){this.closeBtn.texture=this.buttonSheet.getTexture("btn_help_return_up")},e.prototype.changePage=function(){0==this.pageNum?this.page_1.texture=RES.getRes("img_help1_jpg"):this.page_1.texture=RES.getRes("img_help2_jpg")},e}(egret.DisplayObjectContainer);__reflect(HelpPanel.prototype,"HelpPanel");var Axis=function(t){function e(){var e=t.call(this)||this;return e.setProperty(),e.createSpinTimer(),e.setSymbolQ(9,8,7,6,5,4,3),e.takeSymbol(),e.setResult(),e}return __extends(e,t),e.prototype.setProperty=function(){this.result=[],this.symbols=[];for(var t=0;18>=t;t++)this.symbols[t]=new Symbol,this.addChild(this.symbols[t]);this.symbols[0].y=610;for(var t=1;18>=t;t++)this.symbols[t].y=this.symbols[t-1].y-480},e.prototype.setSymbolQ=function(t,e,i,s,n,o,h){this.symbolQuantity=[],this.symbol_1=t,this.symbol_2=e,this.symbol_3=i,this.symbol_4=s,this.symbol_5=n,this.symbol_6=o,this.symbol_7=h;for(var u=1;u<=this.symbol_1;u++)this.symbolQuantity.push(1);for(var u=1;u<=this.symbol_2;u++)this.symbolQuantity.push(2);for(var u=1;u<=this.symbol_3;u++)this.symbolQuantity.push(3);for(var u=1;u<=this.symbol_4;u++)this.symbolQuantity.push(4);for(var u=1;u<=this.symbol_5;u++)this.symbolQuantity.push(5);for(var u=1;u<=this.symbol_6;u++)this.symbolQuantity.push(6);for(var u=1;u<=this.symbol_7;u++)this.symbolQuantity.push(7)},e.prototype.takeSymbol=function(){for(var t=Math.floor(Math.random()*this.symbolQuantity.length),e=Math.floor(Math.random()*this.symbolQuantity.length);e==t;)e=Math.floor(Math.random()*this.symbolQuantity.length);for(var i=Math.floor(Math.random()*this.symbolQuantity.length);i==e||i==t;)i=Math.floor(Math.random()*this.symbolQuantity.length);this.symbols[17].setSymbol(this.symbolQuantity[t]),this.symbols[18].setSymbol(this.symbolQuantity[e]),this.symbols[16].setSymbol(this.symbolQuantity[i])},e.prototype.reset=function(){this.symbols[0].setSymbol(this.symbols[16].getSymbolNum()),this.symbols[1].setSymbol(this.symbols[17].getSymbolNum()),this.symbols[2].setSymbol(this.symbols[18].getSymbolNum());for(var t=3;15>=t;t++)this.symbols[t].randomSymbol();this.takeSymbol()},e.prototype.setResult=function(){this.result=[],this.result.push(this.symbols[17].getSymbolNum())
},e.prototype.getResult=function(){return this.symbols[1].getSymbolNum()},e.prototype.getOneSymbol=function(t){return this.symbols[t]},e.prototype.getOneSymbolY=function(t){return this.symbols[t].y},e.prototype.createSpinTimer=function(){this.spinTimer=new egret.Timer(1,0),this.spinTimer.addEventListener(egret.TimerEvent.TIMER,function(){console.log(this.symbols[0].y);for(var t=0;t<this.symbols.length;t++)this.symbols[t].y+=5,this.symbols[t].y>600&&(this.symbols[t].y=-150,this.symbols[t].randomSymbol())},this)},e}(egret.DisplayObjectContainer);__reflect(Axis.prototype,"Axis");var Main=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(t){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var e=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",e),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(t){console.log(t)})},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(i){switch(i.label){case 0:return[4,this.loadResource()];case 1:return i.sent(),this.createGameScene(),[4,RES.getResAsync("description_json")];case 2:return t=i.sent(),this.startAnimation(t),[4,platform.login()];case 3:return i.sent(),[4,platform.getUserInfo()];case 4:return e=i.sent(),console.log(e),[2]}})})},e.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),t=new LoadingUI,this.stage.addChild(t),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return i.sent(),[4,this.loadTheme()];case 2:return i.sent(),[4,RES.loadGroup("preload",0,t)];case 3:return i.sent(),this.stage.removeChild(t),[3,5];case 4:return e=i.sent(),console.error(e),[3,5];case 5:return[2]}})})},e.prototype.loadTheme=function(){var t=this;return new Promise(function(e,i){var s=new eui.Theme("resource/default.thm.json",t.stage);s.addEventListener(eui.UIEvent.COMPLETE,function(){e()},t)})},e.prototype.createGameScene=function(){var t=new GameContainer;this.addChild(t)},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e.prototype.startAnimation=function(t){var e=this,i=new egret.HtmlTextParser,s=t.map(function(t){return i.parse(t)}),n=this.textfield,o=-1,h=function(){o++,o>=s.length&&(o=0);var t=s[o];n.textFlow=t;var i=egret.Tween.get(n);i.to({alpha:1},200),i.wait(2e3),i.to({alpha:0},200),i.call(h,e)};h()},e.prototype.onButtonClick=function(t){var e=new eui.Panel;e.title="Title",e.horizontalCenter=0,e.verticalCenter=0,this.addChild(e)},e}(eui.UILayer);__reflect(Main.prototype,"Main");var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var Symbol=function(t){function e(){var e,i=t.call(this)||this;return e=Math.floor(7*Math.random()+1),i.symbol_Img=new egret.Bitmap,i.setSymbol(e),i.addChild(i.symbol_Img),i}return __extends(e,t),e.prototype.setSymbol=function(t){var e=RES.getRes("symbol_json");switch(t){case 1:this.symbol_Img.texture=e.getTexture("img_symbol_N3"),this.symbolNum=1;break;case 2:this.symbol_Img.texture=e.getTexture("img_symbol_N2"),this.symbolNum=2;break;case 3:this.symbol_Img.texture=e.getTexture("img_symbol_N1"),this.symbolNum=3;break;case 4:this.symbol_Img.texture=e.getTexture("img_symbol_H4"),this.symbolNum=4;break;case 5:this.symbol_Img.texture=e.getTexture("img_symbol_H3"),this.symbolNum=5;break;case 6:this.symbol_Img.texture=e.getTexture("img_symbol_H2"),this.symbolNum=6;break;case 7:this.symbol_Img.texture=e.getTexture("img_symbol_H1"),this.symbolNum=7}},e.prototype.randomSymbol=function(){var t;t=Math.floor(7*Math.random()+1),this.setSymbol(t)},e.prototype.getSymbolNum=function(){return this.symbolNum},e.prototype.getSymbol=function(){return this.symbol_Img},e.prototype.resetSymbol=function(t){this.symbol_Img.texture=t.texture},e}(egret.DisplayObjectContainer);__reflect(Symbol.prototype,"Symbol");var Test=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.addToStage,e),e}return __extends(e,t),e.prototype.addToStage=function(t){RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.configComplete,this),RES.loadConfig("resource/default.res.json","resource/")},e.prototype.configComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.configComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.groupComplete,this),RES.loadGroup("test")},e.prototype.groupComplete=function(t){RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.groupComplete,this);var e=RES.getRes("test");this.bmp=new egret.Bitmap,this.bmp.texture=e.getTexture("ok_button"),this.addChild(this.bmp)},e}(egret.DisplayObjectContainer);__reflect(Test.prototype,"Test");var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,s){function n(t){e.call(s,t)}function o(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),i.call(s))}var h=this;"undefined"!=typeof generateEUI?egret.callLater(function(){e.call(s,generateEUI)},this):"undefined"!=typeof generateEUI2?RES.getResByUrl("resource/gameEui.json",function(t,i){window.JSONParseClass.setData(t),egret.callLater(function(){e.call(s,generateEUI2)},h)},this,RES.ResourceItem.TYPE_JSON):(RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_TEXT))},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);