var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);i.prototype=e.prototype,t.prototype=new i},__awaiter=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))(function(n,r){function a(t){try{g(s.next(t))}catch(e){r(e)}}function h(t){try{g(s["throw"](t))}catch(e){r(e)}}function g(t){t.done?n(t.value):new i(function(e){e(t.value)}).then(a,h)}g((s=s.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function i(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;g;)try{if(n=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,r=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(a=g.trys,!(a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){g.label=i[1];break}if(6===i[0]&&g.label<a[1]){g.label=a[1],a=i;break}if(a&&g.label<a[2]){g.label=a[2],g.ops.push(i);break}a[2]&&g.ops.pop(),g.trys.pop();continue}i=e.call(t,g)}catch(s){i=[6,s],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var n,r,a,h,g={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return h={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h},BgMap=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.bg=new egret.Bitmap,this.bg.texture=RES.getRes("BG2_png"),this.addChild(this.bg)},e}(egret.DisplayObjectContainer);__reflect(BgMap.prototype,"BgMap");var DigArea=function(t){function e(e,i,s){var n=t.call(this)||this;return n.data=RES.getRes("penguin_json"),n.txtr=RES.getRes("penguin_png"),n.mcFactory=new egret.MovieClipDataFactory(n.data,n.txtr),n.setIf=!1,n.digArea=new egret.Sprite,n.createArea(s),n.jewelImg=new egret.Bitmap,n.jewelImg.visible=!1,n.addEventListener(egret.Event.ADDED_TO_STAGE,n.onAddToStage,n),n}return __extends(e,t),e.prototype.onAddToStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.check,this)},e.prototype.createArea=function(t){var e=new egret.Sprite;0==t?e.graphics.beginFill(0):1==t&&e.graphics.beginFill(16711680),e.graphics.drawRect(0,0,50,50),e.graphics.endFill(),e.rotation=45,e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2,e.alpha=0,this.digArea=e,this.addChild(this.digArea)},e.prototype.unvisJewel=function(){this.jewelImg.visible=!1},e.prototype.visibleJewel=function(){this.jewelImg.visible=!0},e.prototype.check=function(){console.log("CHECK")},e.prototype.setJewel=function(t){switch(t){case 0:this.jewelImg.texture=RES.getRes("bomb_png"),this.jewelType=0,this.jewelImg.x=this.digArea.x,this.jewelImg.y=this.digArea.y,this.jewelImg.scaleX=.7,this.jewelImg.scaleY=.7,this.jewelImg.anchorOffsetX=this.jewelImg.width/2,this.jewelImg.anchorOffsetY=this.jewelImg.height/2,this.setIf=!0,this.addChild(this.jewelImg);break;case 1:this.jewelImg.texture=RES.getRes("topaz_png"),this.jewelType=1,this.jewelImg.x=this.digArea.x,this.jewelImg.y=this.digArea.y,this.jewelImg.scaleX=.7,this.jewelImg.scaleY=.7,this.jewelImg.anchorOffsetX=this.jewelImg.width/2,this.jewelImg.anchorOffsetY=this.jewelImg.height/2,this.setIf=!0,this.addChild(this.jewelImg);break;case 2:this.jewelImg.texture=RES.getRes("sapphire_png"),this.jewelType=2,this.jewelImg.x=this.digArea.x,this.jewelImg.y=this.digArea.y,this.jewelImg.scaleX=.7,this.jewelImg.scaleY=.7,this.jewelImg.anchorOffsetX=this.jewelImg.width/2,this.jewelImg.anchorOffsetY=this.jewelImg.height/2,this.setIf=!0,this.addChild(this.jewelImg);break;case 3:this.jewelImg.texture=RES.getRes("ruby_png"),this.jewelType=3,this.jewelImg.x=this.digArea.x,this.jewelImg.y=this.digArea.y,this.jewelImg.scaleX=.7,this.jewelImg.scaleY=.7,this.jewelImg.anchorOffsetX=this.jewelImg.width/2,this.jewelImg.anchorOffsetY=this.jewelImg.height/2,this.setIf=!0,this.addChild(this.jewelImg);break;case 4:this.jewelImg.texture=RES.getRes("diamond_png"),this.jewelType=4,this.jewelImg.x=this.digArea.x,this.jewelImg.y=this.digArea.y,this.jewelImg.scaleX=.7,this.jewelImg.scaleY=.7,this.jewelImg.anchorOffsetX=this.jewelImg.width/2,this.jewelImg.anchorOffsetY=this.jewelImg.height/2,this.setIf=!0,this.addChild(this.jewelImg);break;default:console.log("setJewel_ERROR")}},e.prototype.getType=function(){return this.jewelType},e.prototype.digged=function(){1==this.setIf?(this.jewelImg.visible=!0,console.log("TRUE"),this.jewelImg.texture=RES.getRes("hole_png")):(this.jewelImg.visible=!0,this.jewelImg.texture=RES.getRes("hole_png"),this.jewelType=4,this.jewelImg.x=this.digArea.x,this.jewelImg.y=this.digArea.y,this.jewelImg.scaleX=.7,this.jewelImg.scaleY=.7,this.jewelImg.anchorOffsetX=this.jewelImg.width/2,this.jewelImg.anchorOffsetY=this.jewelImg.height/2,this.setIf=!0,this.addChild(this.jewelImg))},e}(egret.DisplayObjectContainer);__reflect(DigArea.prototype,"DigArea");var GameContainer=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.startAni=new StartAni,this.infoPanel=new InfoPanel,this.rankPanel=new RankPanel,this.setProperty(),this.changMoveSpeed=!1,this.digArea=[],this.touchEnabled=!0,this.bg=new BgMap,this.addChild(this.bg),this.penguin=new PenGuin,this.penguin.visible=!1,this.penguin.x=Math.floor(330),this.penguin.y=Math.floor(240),this.createMoveTimer(),this.createAreaS();for(var t=0;t<this.digAreas.length;t++)this.digAreas[t].touchEnabled=!1;this.setTreasure(),this.createShowTreasureTimer(),this.addChild(this.infoPanel),this.addChild(this.penguin),this.tankPt=this.penguin.sp.localToGlobal(),console.log(this.tankPt.x),console.log(this.tankPt.y),this.addChild(this.startAni),this.startAni.addEventListener("gameStart",this.gameStart,this),this.infoPanel.addEventListener("gameOver",this.gameOver,this),this.createCheckTmier(),this.checkTimer.start(),this.createButtons()},e.prototype.setProperty=function(){this.arrive=!0,this.digAreas=[],this.diggedAreas=[],this.treasure=[0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,3,3,3,4],this.setTreasureNum=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],this.startAni.x=-50,this.startAni.y=-30,this.direction=8,this.rankPanel.x=150,this.rankPanel.y=50,this.playerName="Name"},e.prototype.sendPostRequest=function(){var t="p1="+this.infoPanel.getFinalGrades()+"&p2="+this.playerName+"&p3="+this.playTime,e=new egret.HttpRequest;e.responseType=egret.HttpResponseType.TEXT,e.open("http://127.0.0.1:8080/php/post_test.php",egret.HttpMethod.POST),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send(t)},e.prototype.createCheckTmier=function(){this.checkTimer=new egret.Timer(1e3,0),this.checkTimer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,function(){for(var t=0;t<this.digAreas.length;t++)console.log(this.digAreas[t].touchEnabled)},this)},e.prototype.gameStart=function(){this.startAni.removeEventListener("gameStart",this.gameStart,this),this.infoPanel.countDownStart();for(var t=0;t<this.digAreas.length;t++)this.digAreas[t].touchEnabled=!0},e.prototype.gameOver=function(){this.infoPanel.removeEventListener("gameOver",this.gameOver,this),this.penguin.removeEventListener("openDig",this.openAreas,this),this.moveTime.stop(),this.checkTimer.stop(),this.infoPanel.countDownStop(),this.infoPanel.showGrades();for(var t=0;t<this.digAreas.length;t++)this.digAreas[t].touchEnabled=!1;1!=this.penguin.getBombIf()&&this.penguin.win(),egret.setTimeout(this.createInputName,this,2e3)},e.prototype.touchBegan=function(t){},e.prototype.createShowTreasureTimer=function(){this.showTreasureTimer=new egret.Timer(1e3,3),this.showTreasureTimer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,function(){for(var t=0;t<this.digAreas.length;t++)this.digAreas[t].unvisJewel();this.startAni.playAni(),this.penguin.visible=!0},this)},e.prototype.createMoveTimer=function(){this.moveTime=new egret.Timer(20,0),this.moveTime.addEventListener(egret.TimerEvent.TIMER,function(){this.checkMove(),this.moveFunc()},this)},e.prototype.checkMove=function(){255==this.tankPt.x&&185==this.tankPt.y&&(this.ppx>=325&&this.ppy<=220&&(this.arrive=!1,this.ppx=360,this.ppy=150),this.ppx>=290&&this.ppy>220&&(this.arrive=!1,this.ppx=255,this.ppy=255)),290==this.tankPt.x&&150==this.tankPt.y&&(this.ppx>=325&&185==this.ppy&&(this.arrive=!1,this.ppx=360,this.ppy=150),this.ppx>=325&&this.ppy>185&&this.ppy<=255&&(this.arrive=!1,this.ppx=360,this.ppy=150),this.ppx>=430&&this.ppy>255&&(this.arrive=!1,this.ppx=430,this.ppy=150),this.ppx>=290&&this.ppx<430&&this.ppy>255&&(this.arrive=!1,this.ppx=255,this.ppy=255)),325==this.tankPt.x&&115==this.tankPt.y&&(this.ppx>=325&&this.ppy>255&&(this.arrive=!1,this.ppx=395,this.ppy=255),this.ppx<325&&this.ppy>255&&(this.arrive=!1,this.ppx=255,this.ppy=255)),360==this.tankPt.x&&150==this.tankPt.y&&(this.ppx>=290&&this.ppy>255&&(this.arrive=!1,this.ppx=395,this.ppy=255),this.ppx<=255&&this.ppy>=185&&(this.arrive=!1,this.ppx=290,this.ppy=150)),395==this.tankPt.x&&185==this.tankPt.y&&(this.ppx<325&&this.ppy<=255&&(this.arrive=!1,this.ppx=290,this.ppy=150),this.ppx<=360&&this.ppy>=290&&(this.arrive=!1,this.ppx=395,this.ppy=255)),430==this.tankPt.x&&220==this.tankPt.y&&(this.ppx<325&&this.ppy<=220&&(this.arrive=!1,this.ppx=290,this.ppy=150),this.ppx<325&&this.ppy>220&&(this.arrive=!1,this.ppx=290,this.ppy=290)),395==this.tankPt.x&&255==this.tankPt.y&&(this.ppx>=290&&this.ppy<185&&(this.arrive=!1,this.ppx=395,this.ppy=185),this.ppx>=290&&this.ppy<185&&(this.arrive=!1,this.ppx=395,this.ppy=185),this.ppx<=255&&this.ppy<=150&&(this.arrive=!1,this.ppx=395,this.ppy=185),this.ppx<=255&&this.ppy>=185&&(this.arrive=!1,this.ppx=255,this.ppy=255)),360==this.tankPt.x&&290==this.tankPt.y&&(this.ppx>=290&&this.ppx<=360&&this.ppy<=150&&(this.arrive=!1,this.ppx=395,this.ppy=185),this.ppx<=255&&(this.arrive=!1,this.ppx=290,this.ppy=290)),325==this.tankPt.x&&325==this.tankPt.y&&(this.ppx>=325&&this.ppy<=185&&(this.arrive=!1,this.ppx=395,this.ppy=185),this.ppx<325&&this.ppy<=185&&(this.arrive=!1,this.ppx=255,this.ppy=185)),290==this.tankPt.x&&290==this.tankPt.y&&(this.ppx>=395&&this.ppy<=220&&(this.arrive=!1,this.ppx=395,this.ppy=255),this.ppx<=360&&this.ppx>220&&this.ppy<=150&&(this.arrive=!1,this.ppx=255,this.ppy=185)),255==this.tankPt.x&&255==this.tankPt.y&&(this.ppx>=395&&this.ppy<=220&&(this.arrive=!1,this.ppx=395,this.ppy=255),this.ppx<=360&&this.ppx>=290&&this.ppy<=150&&(this.arrive=!1,this.ppx=255,this.ppy=185)),220==this.tankPt.x&&220==this.tankPt.y&&(this.ppx>325&&this.ppy>=220&&(this.arrive=!1,this.ppx=360,this.ppy=290),this.ppx>325&&this.ppy<220&&(this.arrive=!1,this.ppx=360,this.ppy=150)),this.tankPt.x==this.ppx&&this.tankPt.y==this.ppy&&(this.ppx=this.ppxTmp,this.ppy=this.ppyTmp,this.arrive=!0)},e.prototype.moveFunc=function(){var t=5;Math.abs(this.tankPt.y-this.ppy),Math.abs(this.tankPt.x-this.ppx);this.tankPt.y>this.ppy&&(this.tankPt.x>this.ppx?(1!=this.direction&&(this.direction=1,this.setDirection()),this.penguin.y-=t,this.tankPt.y-=t,this.penguin.x-=t,this.tankPt.x-=t):this.tankPt.x==this.ppx?(2!=this.direction&&(this.direction=2,this.setDirection()),this.penguin.y-=t,this.tankPt.y-=t):this.tankPt.x<this.ppx&&(3!=this.direction&&(this.direction=3,this.setDirection()),this.penguin.y-=t,this.tankPt.y-=t,this.penguin.x+=t,this.tankPt.x+=t)),this.tankPt.y==this.ppy&&(this.tankPt.x>this.ppx?(4!=this.direction&&(this.direction=4,this.setDirection()),this.penguin.x-=t,this.tankPt.x-=t):this.tankPt.x==this.ppx&&1==this.arrive?(console.log("A"),5!=this.direction?(console.log("B"),this.dig(this.direction),this.direction=5,this.moveTime.stop(),this.judgeTreasure(),this.digAreas[this.currentTarget].digged(),this.diggedAreas.push(this.digAreas[this.currentTarget])):this.direction=8):this.tankPt.x<this.ppx&&(6!=this.direction&&(this.direction=6,this.setDirection()),this.penguin.x+=t,this.tankPt.x+=t)),this.tankPt.y<this.ppy&&(this.tankPt.x>this.ppx?(7!=this.direction&&(this.direction=7,this.setDirection()),this.penguin.y+=t,this.tankPt.y+=t,this.penguin.x-=t,this.tankPt.x-=t):this.tankPt.x==this.ppx?(8!=this.direction&&(this.direction=8,this.setDirection()),this.penguin.y+=t,this.tankPt.y+=t):this.tankPt.x<this.ppx&&(9!=this.direction&&(this.direction=9,this.setDirection()),this.penguin.y+=t,this.tankPt.y+=t,this.penguin.x+=t,this.tankPt.x+=t)),console.log(this.tankPt.x+","+this.tankPt.y+","+t)},e.prototype.check=function(t){for(var e=0;e<this.digAreas.length;e++)if(t.currentTarget==this.digAreas[e]){this.currentTarget=e,console.log("currentTarger:"+this.currentTarget),this.ppx=this.digAreas[e].x,this.ppy=this.digAreas[e].y,this.ppxTmp=this.digAreas[e].x,this.ppyTmp=this.digAreas[e].y;for(var i=(Math.abs(this.tankPt.y-this.ppy),Math.abs(this.tankPt.x-this.ppx),0);i<this.digAreas.length;i++)this.digAreas[i].touchEnabled=!1;this.penguin.addEventListener("openDig",this.openAreas,this),this.moveTime.start(),console.log(e),console.log(this.digAreas[e].x),console.log(this.digAreas[e].y);break}},e.prototype.openAreas=function(){this.penguin.removeEventListener("openDig",this.openAreas,this);for(var t=0;t<this.digAreas.length;t++)this.digAreas[t].touchEnabled=!0;for(var t=0;t<this.diggedAreas.length;t++)this.diggedAreas[t].touchEnabled=!1},e.prototype.setDirection=function(){switch(this.direction){case 1:this.penguin.walk_lu();break;case 2:this.penguin.walk_u();break;case 3:this.penguin.walk_ru();break;case 4:this.penguin.walk_l();break;case 5:this.penguin.idle();break;case 6:this.penguin.walk_r();break;case 7:this.penguin.walk_ld();break;case 8:this.penguin.walk_d();break;case 9:this.penguin.walk_rd();break;default:console.log("direction_ERROR")}},e.prototype.dig=function(t){switch(t){case 1:this.penguin.dig_lu();break;case 2:this.penguin.dig_u();break;case 3:this.penguin.dig_ru();break;case 4:this.penguin.dig_l();break;case 5:break;case 6:this.penguin.dig_r();break;case 7:this.penguin.dig_ld();break;case 8:this.penguin.dig_d();break;case 9:this.penguin.dig_rd();break;default:console.log("dig_ERROR")}},e.prototype.setTreasure=function(){for(;0!=this.treasure.length;){var t=Math.floor((this.setTreasureNum.length-1)*Math.random());this.digAreas[this.setTreasureNum[t]].setJewel(this.treasure[0]),this.setTreasureNum.splice(t,1),this.treasure.splice(0,1)}},e.prototype.judgeTreasure=function(){var t=this.digAreas[this.currentTarget].getType();switch(t){case 0:this.penguin.getBomb();for(var e=0;e<this.digAreas.length;e++)this.digAreas[e].touchEnabled=!1;this.gameOver(),console.log("GG");break;case 1:this.penguin.getJewel("coin"),this.infoPanel.getCoin(),this.infoPanel.getGrades(5),console.log("got1");break;case 2:this.penguin.getJewel("sapphire"),this.infoPanel.getSapphire(),this.infoPanel.getGrades(8),console.log("got2");break;case 3:this.penguin.getJewel("ruby"),this.infoPanel.getRuby(),this.infoPanel.getGrades(12),console.log("got3");break;case 4:this.penguin.getJewel("diamond"),this.infoPanel.getDiamond(),this.infoPanel.getGrades(20),console.log("got4")}},e.prototype.createInputName=function(){var t=new egret.Sprite;t.graphics.beginFill(0),t.graphics.drawRect(0,0,300,50),t.graphics.endFill(),t.alpha=.8,t.x=160,t.y=180,this.addChild(t);var e=new egret.TextField;e.textColor=16777215,e.text="Your name :",e.size=14,e.x=t.x+10,e.y=t.y+15,this.addChild(e);var i=new egret.Shape;i.graphics.beginFill(16777215),i.graphics.drawRect(e.x+80,e.y-4,100,25),i.graphics.endFill(),this.addChild(i);var s=new egret.TextField;s.type=egret.TextFieldType.INPUT,s.size=15,s.x=e.x+85,s.y=e.y,s.textColor=0,s.text="Name",this.addChild(s),s.addEventListener(egret.Event.CHANGE,function(){this.playerName=s.text},this),this.okButton=new egret.Bitmap,this.okButton.texture=RES.getRes("ok_button_png"),this.okButton.scaleX=.1,this.okButton.scaleY=.1,this.okButton.x=t.x+210,this.okButton.y=t.y+9,this.addChild(this.okButton),this.okButton.touchEnabled=!0,this.okButton.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.okBtnFunc,this)},e.prototype.okBtnFunc=function(){console.log(this.playerName);var t=new Date;this.playTime=""+(t.getMonth()+1)+"/"+t.getDate()+" "+t.getHours()+":"+t.getMinutes(),console.log(this.playTime),this.sendPostRequest(),this.removeChildren(),this.onAddToStage()},e.prototype.createAreaC=function(t,e,i){var s=new egret.Sprite;0==i?s.graphics.beginFill(0):1==i&&s.graphics.beginFill(16711680),s.graphics.drawRect(0,0,50,50),s.graphics.endFill(),s.alpha=1,s.rotation=45,s.anchorOffsetX=s.width/2,s.anchorOffsetY=s.height/2,s.x=t,s.y=e,s.touchEnabled=!0,s.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.check,this),this.digArea.push(s),this.addChild(s)},e.prototype.createAreaB=function(t,e){var i=new egret.Sprite;i.graphics.beginFill(0),i.graphics.drawRect(0,0,50,50),i.graphics.endFill(),i.alpha=1,i.rotation=45,i.anchorOffsetX=i.width/2,i.anchorOffsetY=i.height/2,i.x=t,i.y=e,i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.check,this),this.digArea.push(i),this.addChild(i)},e.prototype.createAreaR=function(t,e){var i=new egret.Sprite;i.graphics.beginFill(16711680),i.graphics.drawRect(0,0,50,50),i.graphics.endFill(),i.alpha=1,i.rotation=45,i.anchorOffsetX=i.width/2,i.anchorOffsetY=i.height/2,i.x=t,i.y=e,i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.check,this),this.digArea.push(i),this.addChild(i)},e.prototype.createAreaS=function(){for(var t=0;2>=t;t++){var e=new DigArea(290+70*t,80,0);e.x=290+70*t,e.y=80,this.digAreas.push(e),this.addChild(e)}for(var t=0;4>=t;t++){var e=new DigArea(185+70*t,115,1);e.x=185+70*t,e.y=115,this.digAreas.push(e),this.addChild(e)}for(var t=0;7>=t;t++){var e=new DigArea(80+70*t,150,0);e.x=80+70*t,e.y=150,this.digAreas.push(e),this.addChild(e)}for(var t=0;6>=t;t++)if(3!=t){var e=new DigArea(115+70*t,185,1);e.x=115+70*t,e.y=185,this.digAreas.push(e),this.addChild(e)}for(var t=0;7>=t;t++)if(3!=t&&4!=t){var e=new DigArea(80+70*t,220,0);e.x=80+70*t,e.y=220,this.digAreas.push(e),this.addChild(e)}for(var t=0;6>=t;t++)if(3!=t){var e=new DigArea(115+70*t,255,1);e.x=115+70*t,e.y=255,this.digAreas.push(e),this.addChild(e)}for(var t=0;7>=t;t++){var e=new DigArea(80+70*t,290,0);e.x=80+70*t,e.y=290,this.digAreas.push(e),this.addChild(e)}for(var t=0;4>=t;t++){var e=new DigArea(185+70*t,325,1);e.x=185+70*t,e.y=325,this.digAreas.push(e),this.addChild(e)}for(var t=0;t<this.digAreas.length;t++)this.digAreas[t].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.check,this)},e.prototype.createButtons=function(){this.playButton=new egret.Bitmap,this.playButton.texture=RES.getRes("play_button_png"),this.addChild(this.playButton),this.playButton.scaleX=.2,this.playButton.scaleY=.2,this.playButton.x=255,this.playButton.y=180,this.playButton.touchEnabled=!0,this.playButton.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.starPlayAni,this),this.rankButton=new egret.Bitmap,this.rankButton.texture=RES.getRes("record_button_png"),this.addChild(this.rankButton),this.rankButton.scaleX=.15,this.rankButton.scaleY=.15,this.rankButton.x=273,this.rankButton.y=260,this.rankButton.touchEnabled=!0,this.rankButton.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.openRankPanel,this),this.cancelButton=new egret.Bitmap,this.cancelButton.texture=RES.getRes("cancel_button_png"),this.cancelButton.scaleX=.1,this.cancelButton.scaleY=.1,this.cancelButton.x=280,this.cancelButton.y=395,this.cancelButton.touchEnabled=!0},e.prototype.starPlayAni=function(){this.playButton.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.starPlayAni,this),this.rankButton.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.openRankPanel,this),this.playButton.visible=!1,this.rankButton.visible=!1,this.showTreasureTimer.start();for(var t=0;t<this.digAreas.length;t++)this.digAreas[t].visibleJewel()},e.prototype.openRankPanel=function(){this.rankButton.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.openRankPanel,this),this.playButton.touchEnabled=!1,this.addChild(this.rankPanel),this.addChild(this.cancelButton),this.cancelButton.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.cancelButtonEvt,this)},e.prototype.cancelButtonEvt=function(){this.cancelButton.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.cancelButtonEvt,this),this.rankButton.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.openRankPanel,this),this.playButton.touchEnabled=!0,this.removeChild(this.rankPanel),this.removeChild(this.cancelButton)},e}(egret.DisplayObjectContainer);__reflect(GameContainer.prototype,"GameContainer");var InfoPanel=function(t){function e(){var e=t.call(this)||this;return e.setObject(),e.createrCountdownTimer(),e}return __extends(e,t),e.prototype.countDownStart=function(){this.countdownTime.start()},e.prototype.getDiamond=function(){switch(this.diamondNum+=1,this.diamondNum){case 1:this.diamond_Img.texture=RES.getRes("num1_png")}},e.prototype.getRuby=function(){switch(this.rubyNum+=1,this.rubyNum){case 1:this.ruby_Img.texture=RES.getRes("num1_png");break;case 2:this.ruby_Img.texture=RES.getRes("num2_png");break;case 3:this.ruby_Img.texture=RES.getRes("num3_png")}},e.prototype.getSapphire=function(){switch(this.sapphireNum+=1,this.sapphireNum){case 1:this.sapphire_Img.texture=RES.getRes("num1_png");break;case 2:this.sapphire_Img.texture=RES.getRes("num2_png");break;case 3:this.sapphire_Img.texture=RES.getRes("num3_png");break;case 4:this.sapphire_Img.texture=RES.getRes("num4_png");break;case 5:this.sapphire_Img.texture=RES.getRes("num5_png");break;case 6:this.sapphire_Img.texture=RES.getRes("num6_png");break;case 7:this.sapphire_Img.texture=RES.getRes("num7_png");break;case 8:this.sapphire_Img.texture=RES.getRes("num8_png");break;case 9:this.sapphire_Img.texture=RES.getRes("num9_png")}},e.prototype.getCoin=function(){switch(this.coinNum+=1,this.coinNum){case 1:this.coin_Img.texture=RES.getRes("num1_png");break;case 2:this.coin_Img.texture=RES.getRes("num2_png");break;case 3:this.coin_Img.texture=RES.getRes("num3_png");break;case 4:this.coin_Img.texture=RES.getRes("num4_png");break;case 5:this.coin_Img.texture=RES.getRes("num5_png");break;case 6:this.coin_Img.texture=RES.getRes("num6_png");break;case 7:this.coin_Img.texture=RES.getRes("num7_png");break;case 8:this.coin_Img.texture=RES.getRes("num8_png");break;case 9:this.coin_Img.texture=RES.getRes("num9_png");break;case 10:this.coin_Img.texture=RES.getRes("num0_png"),this.coin_ImgT.texture=RES.getRes("num1_png");break;case 11:this.coin_Img.texture=RES.getRes("num1_png"),this.coin_ImgT.texture=RES.getRes("num1_png");break;case 12:this.coin_Img.texture=RES.getRes("num2_png"),this.coin_ImgT.texture=RES.getRes("num1_png")}},e.prototype.getGrades=function(t){this.grades+=t;var e=this.grades%10,i=Math.floor(this.grades%100/10),s=Math.floor(this.grades/100);switch(e){case 0:this.grades_Img.texture=RES.getRes("num0_png"),this.gradesB_Img.texture=RES.getRes("grade0_png");break;case 1:this.grades_Img.texture=RES.getRes("num1_png"),this.gradesB_Img.texture=RES.getRes("grade1_png");break;case 2:this.grades_Img.texture=RES.getRes("num2_png"),this.gradesB_Img.texture=RES.getRes("grade2_png");break;case 3:this.grades_Img.texture=RES.getRes("num3_png"),this.gradesB_Img.texture=RES.getRes("grade3_png");break;case 4:this.grades_Img.texture=RES.getRes("num4_png"),this.gradesB_Img.texture=RES.getRes("grade4_png");break;case 5:this.grades_Img.texture=RES.getRes("num5_png"),this.gradesB_Img.texture=RES.getRes("grade5_png");break;case 6:this.grades_Img.texture=RES.getRes("num6_png"),this.gradesB_Img.texture=RES.getRes("grade6_png");break;case 7:this.grades_Img.texture=RES.getRes("num7_png"),this.gradesB_Img.texture=RES.getRes("grade7_png");break;case 8:this.grades_Img.texture=RES.getRes("num8_png"),this.gradesB_Img.texture=RES.getRes("grade8_png");break;case 9:this.grades_Img.texture=RES.getRes("num9_png"),this.gradesB_Img.texture=RES.getRes("grade9_png")}switch(i){case 0:this.grades_ImgT.texture=RES.getRes("num0_png"),this.gradesB_ImgT.texture=RES.getRes("grade0_png");break;case 1:this.grades_ImgT.texture=RES.getRes("num1_png"),this.gradesB_ImgT.texture=RES.getRes("grade1_png");break;case 2:this.grades_ImgT.texture=RES.getRes("num2_png"),this.gradesB_ImgT.texture=RES.getRes("grade2_png");break;case 3:this.grades_ImgT.texture=RES.getRes("num3_png"),this.gradesB_ImgT.texture=RES.getRes("grade3_png");break;case 4:this.grades_ImgT.texture=RES.getRes("num4_png"),this.gradesB_ImgT.texture=RES.getRes("grade4_png");break;case 5:this.grades_ImgT.texture=RES.getRes("num5_png"),this.gradesB_ImgT.texture=RES.getRes("grade5_png");break;case 6:this.grades_ImgT.texture=RES.getRes("num6_png"),this.gradesB_ImgT.texture=RES.getRes("grade6_png");break;case 7:this.grades_ImgT.texture=RES.getRes("num7_png"),this.gradesB_ImgT.texture=RES.getRes("grade7_png");break;case 8:this.grades_ImgT.texture=RES.getRes("num8_png"),this.gradesB_ImgT.texture=RES.getRes("grade8_png");break;case 9:this.grades_ImgT.texture=RES.getRes("num9_png"),this.gradesB_ImgT.texture=RES.getRes("grade9_png")}switch(s){case 1:this.grades_ImgH.texture=RES.getRes("num1_png")}},e.prototype.getFinalGrades=function(){return this.grades},e.prototype.showGrades=function(){this.gradesB_Img.visible=!0,this.gradesB_ImgT.visible=!0},e.prototype.setObject=function(){this.time_sTNES_Img=new egret.Bitmap,this.time_sTNES_Img.texture=RES.getRes("num1_png"),this.time_sONES_Img=new egret.Bitmap,this.time_sONES_Img.texture=RES.getRes("num5_png"),this.time_ms_Img=new egret.Bitmap,this.time_ms_Img.texture=RES.getRes("num0_png"),this.time_sTNES_Img.scaleX=.7,this.time_sTNES_Img.scaleY=.7,this.time_sTNES_Img.x=48,this.time_sTNES_Img.y=420,this.time_sONES_Img.scaleX=.7,this.time_sONES_Img.scaleY=.7,this.time_sONES_Img.x=68,this.time_sONES_Img.y=420,this.time_ms_Img.scaleX=.7,this.time_ms_Img.scaleY=.7,this.time_ms_Img.x=93,this.time_ms_Img.y=420,this.time=15e3,this.addChild(this.time_sTNES_Img),this.addChild(this.time_sONES_Img),this.addChild(this.time_ms_Img),this.diamondNum=0,this.rubyNum=0,this.sapphireNum=0,this.coinNum=0,this.coin_Img=new egret.Bitmap,this.coin_Img.texture=RES.getRes("num0_png"),this.coin_ImgT=new egret.Bitmap,this.coin_ImgT.texture=RES.getRes("num0_png"),this.sapphire_Img=new egret.Bitmap,this.sapphire_Img.texture=RES.getRes("num0_png"),this.ruby_Img=new egret.Bitmap,this.ruby_Img.texture=RES.getRes("num0_png"),this.diamond_Img=new egret.Bitmap,this.diamond_Img.texture=RES.getRes("num0_png"),this.grades_Img=new egret.Bitmap,this.grades_Img.texture=RES.getRes("num0_png"),this.grades_ImgT=new egret.Bitmap,this.grades_ImgT.texture=RES.getRes("num0_png"),this.grades_ImgH=new egret.Bitmap,this.grades_ImgH.texture=RES.getRes("num0_png"),this.diamond_Img.scaleX=.7,this.diamond_Img.scaleY=.7,this.diamond_Img.x=204,this.diamond_Img.y=420,this.addChild(this.diamond_Img),this.ruby_Img.scaleX=.7,this.ruby_Img.scaleY=.7,this.ruby_Img.x=295,this.ruby_Img.y=420,this.addChild(this.ruby_Img),this.sapphire_Img.scaleX=.7,this.sapphire_Img.scaleY=.7,this.sapphire_Img.x=386,this.sapphire_Img.y=420,this.addChild(this.sapphire_Img),this.coin_Img.scaleX=.7,this.coin_Img.scaleY=.7,this.coin_Img.x=478,this.coin_Img.y=420,this.addChild(this.coin_Img),this.coin_ImgT.scaleX=.7,this.coin_ImgT.scaleY=.7,this.coin_ImgT.x=457,this.coin_ImgT.y=420,this.addChild(this.coin_ImgT),this.grades_Img.scaleX=.7,this.grades_Img.scaleY=.7,this.grades_Img.x=589,this.grades_Img.y=420,this.grades=0,this.addChild(this.grades_Img),this.grades_ImgT.scaleX=.7,this.grades_ImgT.scaleY=.7,this.grades_ImgT.x=569,this.grades_ImgT.y=420,this.addChild(this.grades_ImgT),this.grades_ImgH.scaleX=.7,this.grades_ImgH.scaleY=.7,this.grades_ImgH.x=548,this.grades_ImgH.y=420,this.addChild(this.grades_ImgH),this.gradesB_Img=new egret.Bitmap,this.gradesB_Img.texture=RES.getRes("grade0_png"),this.gradesB_ImgT=new egret.Bitmap,this.gradesB_ImgT.texture=RES.getRes("grade0_png"),this.gradesB_ImgH=new egret.Bitmap,this.gradesB_ImgH.texture=RES.getRes("num0_png"),this.gradesB_Img.scaleX=.7,this.gradesB_Img.scaleY=.7,this.gradesB_Img.x=300,this.gradesB_Img.y=75,this.addChild(this.gradesB_Img),this.gradesB_Img.visible=!1,this.gradesB_ImgT.scaleX=.7,this.gradesB_ImgT.scaleY=.7,this.gradesB_ImgT.x=240,this.gradesB_ImgT.y=75,this.addChild(this.gradesB_ImgT),this.gradesB_ImgT.visible=!1},e.prototype.countDownStop=function(){this.countdownTime.stop()},e.prototype.createrCountdownTimer=function(){this.countdownTime=new egret.Timer(100,0),this.countdownTime.addEventListener(egret.TimerEvent.TIMER,function(){this.time-=100,console.log(this.time),this.time<=0&&(this.countdownTime.stop(),this.dispatchEventWith("gameOver")),this.time<1e4&&(this.time_sTNES_Img.texture=RES.getRes("num0_png"));var t=Math.floor(this.time%1e4/1e3);switch(t){case 9:this.time_sONES_Img.texture=RES.getRes("num9_png");break;case 8:this.time_sONES_Img.texture=RES.getRes("num8_png");break;case 7:this.time_sONES_Img.texture=RES.getRes("num7_png");break;case 6:this.time_sONES_Img.texture=RES.getRes("num6_png");break;case 5:this.time_sONES_Img.texture=RES.getRes("num5_png");break;case 4:this.time_sONES_Img.texture=RES.getRes("num4_png");break;case 3:this.time_sONES_Img.texture=RES.getRes("num3_png");break;case 2:this.time_sONES_Img.texture=RES.getRes("num2_png");break;case 1:this.time_sONES_Img.texture=RES.getRes("num1_png");break;case 0:this.time_sONES_Img.texture=RES.getRes("num0_png")}var e=Math.floor(this.time%1e3);switch(e){case 900:this.time_ms_Img.texture=RES.getRes("num9_png");break;case 800:this.time_ms_Img.texture=RES.getRes("num8_png");break;case 700:this.time_ms_Img.texture=RES.getRes("num7_png");break;case 600:this.time_ms_Img.texture=RES.getRes("num6_png");break;case 500:this.time_ms_Img.texture=RES.getRes("num5_png");break;case 400:this.time_ms_Img.texture=RES.getRes("num4_png");break;case 300:this.time_ms_Img.texture=RES.getRes("num3_png");break;case 200:this.time_ms_Img.texture=RES.getRes("num2_png");break;case 100:this.time_ms_Img.texture=RES.getRes("num1_png");break;case 0:this.time_ms_Img.texture=RES.getRes("num0_png")}},this)},e}(egret.DisplayObjectContainer);__reflect(InfoPanel.prototype,"InfoPanel");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.onProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var Main=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){egret.lifecycle.addLifecycleListener(function(t){t.onUpdate=function(){}}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()},this.runGame()["catch"](function(t){console.log(t)})},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(i){switch(i.label){case 0:return[4,this.loadResource()];case 1:return i.sent(),this.createGameScene(),[4,RES.getResAsync("description_json")];case 2:return t=i.sent(),this.startAnimation(t),[4,platform.login()];
case 3:return i.sent(),[4,platform.getUserInfo()];case 4:return e=i.sent(),console.log(e),[2]}})})},e.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),t=new LoadingUI,this.stage.addChild(t),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return i.sent(),[4,RES.loadGroup("preload",0,t)];case 2:return i.sent(),this.stage.removeChild(t),[3,4];case 3:return e=i.sent(),console.error(e),[3,4];case 4:return[2]}})})},e.prototype.createGameScene=function(){this.gameContainer=new GameContainer,this.addChild(this.gameContainer)},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e.prototype.startAnimation=function(t){var e=this,i=new egret.HtmlTextParser,s=t.map(function(t){return i.parse(t)}),n=this.textfield,r=-1,a=function(){r++,r>=s.length&&(r=0);var t=s[r];n.textFlow=t;var i=egret.Tween.get(n);i.to({alpha:1},200),i.wait(2e3),i.to({alpha:0},200),i.call(a,e)};a()},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var PenGuin=function(t){function e(){var e=t.call(this)||this;return e.data=RES.getRes("penguin_json"),e.txtr=RES.getRes("penguin_png"),e.mcFactory=new egret.MovieClipDataFactory(e.data,e.txtr),e.bombIf=!1,e.penguin=new egret.MovieClip(e.mcFactory.generateMovieClipData("penguin")),e.penguin.scaleX=.7,e.penguin.scaleY=.7,e.addChild(e.penguin),e.jewel=new egret.MovieClip(e.mcFactory.generateMovieClipData("jewel")),e.jewel.scaleX=.7,e.jewel.scaleY=.7,e.jewel.x=15,e.jewel.y=-30,e.jewel.visible=!1,e.addChild(e.jewel),e.penguin.gotoAndPlay("idle",-1),e.sp=new egret.Sprite,e.sp.graphics.beginFill(16711680),e.sp.graphics.drawRect(0,0,5,5),e.sp.x=32.5,e.sp.y=52.5,e.sp.graphics.endFill(),e.sp.anchorOffsetX=e.sp.width/2,e.sp.anchorOffsetY=e.sp.height/2,e.sp.alpha=0,e.addChild(e.sp),e}return __extends(e,t),e.prototype.getJewel=function(t){this.jewel.visible=!0,this.jewel.gotoAndPlay(t,1),this.jewel.addEventListener(egret.Event.COMPLETE,this.showJewelComplete,this)},e.prototype.showJewelComplete=function(){this.jewel.visible=!1,this.jewel.removeEventListener(egret.Event.COMPLETE,this.showJewelComplete,this)},e.prototype.digComplete=function(){this.penguin.removeEventListener(egret.Event.COMPLETE,this.digComplete,this),0==this.bombIf?this.dispatchEventWith("openDig"):this.loss()},e.prototype.getBomb=function(){this.bombIf=!0},e.prototype.getBombIf=function(){return this.bombIf},e.prototype.loss=function(){this.penguin.gotoAndPlay("loss",1)},e.prototype.win=function(){this.penguin.gotoAndPlay("win",3)},e.prototype.idle=function(){this.penguin.gotoAndPlay("idle",1)},e.prototype.walk_u=function(){this.penguin.gotoAndPlay("walk_u",-1)},e.prototype.walk_d=function(){this.penguin.gotoAndPlay("walk_d",-1)},e.prototype.walk_l=function(){this.penguin.gotoAndPlay("walk_l",-1)},e.prototype.walk_r=function(){this.penguin.gotoAndPlay("walk_r",-1)},e.prototype.walk_lu=function(){this.penguin.gotoAndPlay("walk_lu",-1)},e.prototype.walk_ld=function(){this.penguin.gotoAndPlay("walk_ld",-1)},e.prototype.walk_ru=function(){this.penguin.gotoAndPlay("walk_ru",-1)},e.prototype.walk_rd=function(){this.penguin.gotoAndPlay("walk_rd",-1)},e.prototype.dig_u=function(){this.penguin.gotoAndPlay("dig_u",1),this.penguin.addEventListener(egret.Event.COMPLETE,this.digComplete,this)},e.prototype.dig_d=function(){this.penguin.gotoAndPlay("dig_d",1),this.penguin.addEventListener(egret.Event.COMPLETE,this.digComplete,this)},e.prototype.dig_l=function(){this.penguin.gotoAndPlay("dig_l",1),this.penguin.addEventListener(egret.Event.COMPLETE,this.digComplete,this)},e.prototype.dig_r=function(){this.penguin.gotoAndPlay("dig_r",1),this.penguin.addEventListener(egret.Event.COMPLETE,this.digComplete,this)},e.prototype.dig_lu=function(){this.penguin.gotoAndPlay("dig_lu",1),this.penguin.addEventListener(egret.Event.COMPLETE,this.digComplete,this)},e.prototype.dig_ld=function(){this.penguin.gotoAndPlay("dig_ld",1),this.penguin.addEventListener(egret.Event.COMPLETE,this.digComplete,this)},e.prototype.dig_ru=function(){this.penguin.gotoAndPlay("dig_ru",1),this.penguin.addEventListener(egret.Event.COMPLETE,this.digComplete,this)},e.prototype.dig_rd=function(){this.penguin.gotoAndPlay("dig_rd",1),this.penguin.addEventListener(egret.Event.COMPLETE,this.digComplete,this)},e}(egret.DisplayObjectContainer);__reflect(PenGuin.prototype,"PenGuin");var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var RankPanel=function(t){function e(){var e=t.call(this)||this;return e.setProperty(),e.request(),e}return __extends(e,t),e.prototype.setProperty=function(){this.playerNames=[],this.playerGrades=[],this.playerDate=[]},e.prototype.createBlackPanel=function(){var t=new egret.Sprite;t.graphics.beginFill(0),t.graphics.drawRect(0,0,330,380),t.graphics.endFill(),t.alpha=.7,this.addChild(t)},e.prototype.request=function(){var t="http://127.0.0.1:8080/php/json_test.php",e=new egret.URLLoader;e.addEventListener(egret.Event.COMPLETE,this.onPostComplete,this);var i=new egret.URLRequest(t);i.method=egret.URLRequestMethod.POST,i.data=new egret.URLVariables,e.load(i)},e.prototype.onPostComplete=function(t){for(var e=t.target,i=e.data,s=(JSON.stringify(i),i.toString()),n=JSON.parse(s),r=0;r<n.length;r++)this.playerNames[r]=n[r].name,this.playerGrades[r]=n[r].grades,this.playerDate[r]=n[r].playtime;this.createBlackPanel(),this.createText()},e.prototype.createText=function(){var t=new egret.TextField,e=new egret.TextField,i=new egret.TextField;t.textColor=16777215,t.text="Date",t.size=14,t.x=20,t.y=20,this.addChild(t),e.textColor=16777215,e.text="Player",e.size=14,e.x=140,e.y=20,this.addChild(e),i.textColor=16777215,i.text="Grades",i.size=14,i.x=240,i.y=20,this.addChild(i);for(var s=0;10>s;s++){var n=new egret.TextField;n.textColor=16777215,null!=this.playerDate[s]?n.text=""+this.playerDate[s]:n.text="12/12 00:00",n.size=14,n.x=20,n.y=50+30*s,this.addChild(n)}for(var s=(new egret.TextField,new egret.TextField,new egret.TextField,new egret.TextField,new egret.TextField,new egret.TextField,new egret.TextField,new egret.TextField,new egret.TextField,new egret.TextField,0);10>s;s++){var r=new egret.TextField;r.textColor=16777215,null!=this.playerNames[s]?r.text=""+this.playerNames[s]:r.text="None",r.size=14,r.x=140,r.y=50+30*s,this.addChild(r)}for(var s=(new egret.TextField,new egret.TextField,new egret.TextField,new egret.TextField,new egret.TextField,new egret.TextField,new egret.TextField,new egret.TextField,new egret.TextField,new egret.TextField,0);10>s;s++){var a=new egret.TextField;a.textColor=16777215,null!=this.playerGrades[s]?a.text=""+this.playerGrades[s]:a.text="0",a.size=14,a.x=240,a.y=50+30*s,this.addChild(a)}},e}(egret.DisplayObjectContainer);__reflect(RankPanel.prototype,"RankPanel");var StartAni=function(t){function e(){var e=t.call(this)||this;return e.data=RES.getRes("penguin_json"),e.txtr=RES.getRes("penguin_png"),e.mcFactory=new egret.MovieClipDataFactory(e.data,e.txtr),e.startAni=new egret.MovieClip(e.mcFactory.generateMovieClipData("start")),e}return __extends(e,t),e.prototype.playAni=function(){this.addChild(this.startAni),this.startAni.gotoAndPlay("start",1),this.startAni.addEventListener(egret.Event.COMPLETE,this.complete,this)},e.prototype.complete=function(){this.startAni.removeEventListener(egret.Event.COMPLETE,this.complete,this),this.removeChild(this.startAni),this.dispatchEventWith("gameStart")},e}(egret.DisplayObjectContainer);__reflect(StartAni.prototype,"StartAni");