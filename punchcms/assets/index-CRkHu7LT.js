import{d as k,c as F,e as g,o as p,f as x,g as m,j as d,J as C,L as w,a9 as O,u as c,aa as J,I as _,N,l as E,ab as Z,K as T,b as S,ac as v,ad as W,ae as j,af as Q,ag as X,q,ah as Y,w as P,ai as ee,V as te,Z as ne,_ as se,aj as ae,a2 as B,a1 as oe}from"./element-plus-C_WOaAPH.js";import{u as U,a as I,_ as M,s as A,b as le,p as re}from"./index-CaJ76v-_.js";import{u as ie,a as G,b as K}from"./multiTag-BnU-R9K-.js";import{l as ue,S as ce}from"./shared_define-X34ULFjF.js";const pe=k({__name:"SidebarItem",props:{route:{},isNest:{type:Boolean,default:!1}},setup(l){const t=l,o=F(()=>{var e,s,n;return((e=t.route)==null?void 0:e.children)&&((n=(s=t.route)==null?void 0:s.children)==null?void 0:n.length)===0||!t.route.children});return(e,s)=>{const n=g("iconify-icon-offline"),i=g("sidebar-item",!0);return o.value?(p(),x(c(J),{key:0,index:e.$props.route.path,class:O({"submenu-title-noDropdown":!e.isNest})},{default:m(()=>[d(n,{icon:e.$props.route.meta.icon,class:"mr-2",width:"18"},null,8,["icon"]),C(" "+w(e.$props.route.meta.title),1)]),_:1},8,["index","class"])):o.value?T("",!0):(p(),x(c(Z),{key:1,index:e.$props.route.path},{title:m(()=>[d(n,{icon:e.$props.route.meta.icon,class:"mr-2",width:"18"},null,8,["icon"]),C(" "+w(e.$props.route.meta.title),1)]),default:m(()=>[(p(!0),_(N,null,E(e.$props.route.children,r=>(p(),x(i,{class:"nest-menu","is-nest":!0,key:r.path,route:r},null,8,["route"]))),128))]),_:1},8,["index"]))}}}),fe={class:"h-12 d_c"},de=["src"],me={class:"absolute bottom-0 text-sm left-1"},_e=k({__name:"index",setup(l){const t=U(),{changeRoute:o}=ie(),e=S([]);I.value.forEach(n=>{n.name!=="home"&&e.value.push(n.path)});const s=t.path.split("/")[1];return o(s),(n,i)=>{const r=g("router-link");return p(),_("div",null,[d(c(Q),{"default-active":n.$route.path,router:"",class:"h-screen","default-openeds":e.value},{default:m(()=>[v("div",fe,[d(r,{to:"/dashboard"},{default:m(()=>[v("img",{src:c(ue),class:"h-6"},null,8,de)]),_:1})]),(p(!0),_(N,null,E(c(I),(a,u)=>W((p(),x(pe,{key:a.path,route:c(I)[u],"base-path":c(t).path},null,8,["route","base-path"])),[[j,a.name!=="home"]])),128)),v("div",me,"v"+w(c(ce).CLIENT_VERSION),1)]),_:1},8,["default-active","default-openeds"])])}}}),he=M(_e,[["__scopeId","data-v-2ff31e57"]]),ve={class:"app-main"},xe=k({__name:"AppMain",setup(l){const t=G(),{multiTags:o}=A(t),e=F(()=>o.value.map(i=>i.name)),s=K(),{token:n}=A(s);return s.fetchUserList(),n.value&&s.fetchUserList(),(i,r)=>{const a=g("router-view");return p(),_("div",ve,[v("main",null,[d(a,null,{default:m(({Component:u,route:f})=>[(p(),x(X,{include:e.value},[f.meta.keepAlive?(p(),x(q(u),{key:f.name})):T("",!0)],1032,["include"])),f.meta.keepAlive?T("",!0):(p(),x(q(u),{key:f.name}))]),_:1})])])}}}),be=M(xe,[["__scopeId","data-v-76c037f3"]]),ye={class:"flex bg-color-42 pt-10px px-3 relative"},ge=["onClick"],we={class:"mr-2px"},ke={class:"absolute bottom-0 left-0 w-full h-3px bg-primary"},$e=k({__name:"index",setup(l){const t=U(),o=le(),e=G(),{handleTags:s,deleteDynamicTag:n,clearAll:i,defaultRoute:r}=e,{multiTags:a}=A(e),u=F(()=>t.path),f=h=>{o.push(h)},$=(h,V)=>{h.path!=="/dashboard"&&(n(V),t.path===u.value&&f(a.value[a.value.length-1].path))};Y(()=>{a.value.length===0&&s({mode:"push",value:{...r}})});const b=()=>{i(),o.push(a.value[0].path)};return P(t,h=>{s({mode:"push",value:{path:t.path,parentPath:`/${t.fullPath.split("/")[1]}`,name:t.name,meta:t.meta}})}),(h,V)=>{const L=g("IconifyIconOffline");return p(),_("ul",ye,[(p(!0),_(N,null,E(c(a),(y,z)=>(p(),_("li",{class:O(["flex py-0 items-center pl-20px pr-12px h-34px rounded-t-4px relative cursor-pointer",{"text-primary bg-white":y.path===u.value}]),key:y.path,onClick:H=>f(y.path)},[v("p",we,w(y.meta.title),1),d(L,{icon:"close-circle-line",class:"text-16px ml-1",onClick:ee(H=>$(y,z),["prevent","stop"])},null,8,["onClick"]),W(v("hr",ke,null,512),[[j,y.path===u.value]])],10,ge))),128)),d(L,{icon:"close-circle-line",class:"text-1.2rem absolute right-4",onClick:b})])}}}),Ce=M($e,[["__scopeId","data-v-94000c0b"]]);function R(l){return ne()?(se(l),!0):!1}function Se(l){return typeof l=="function"?l():c(l)}const D=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function Ie(l,t=1e3,o={}){const{immediate:e=!0,immediateCallback:s=!1}=o;let n=null;const i=S(!1);function r(){n&&(clearInterval(n),n=null)}function a(){i.value=!1,r()}function u(){const f=Se(t);f<=0||(i.value=!0,s&&l(),r(),n=setInterval(l,f))}if(e&&D&&u(),te(t)||typeof t=="function"){const f=P(t,()=>{i.value&&D&&u()});R(f)}return R(a),{isActive:i,pause:a,resume:u}}const Te=D?window:void 0;function Ae(l,t={}){const{immediate:o=!0,fpsLimit:e=void 0,window:s=Te}=t,n=S(!1),i=e?1e3/e:null;let r=0,a=null;function u(b){if(!n.value||!s)return;r||(r=b);const h=b-r;if(i&&h<i){a=s.requestAnimationFrame(u);return}r=b,l({delta:h,timestamp:b}),a=s.requestAnimationFrame(u)}function f(){!n.value&&s&&(n.value=!0,r=0,a=s.requestAnimationFrame(u))}function $(){n.value=!1,a!=null&&s&&(s.cancelAnimationFrame(a),a=null)}return o&&f(),R($),{isActive:ae(n),pause:$,resume:f}}function Re(l={}){const{controls:t=!1,interval:o="requestAnimationFrame"}=l,e=S(new Date),s=()=>e.value=new Date,n=o==="requestAnimationFrame"?Ae(s,{immediate:!0}):Ie(s,o,{immediate:!0});return t?{now:e,...n}:e}const De={class:"bg-secondary flex items-center justify-center py-3 text-22px w-full relative"},Fe={class:"flex items-center absolute right-25px"},Ne=k({__name:"index",setup(l){const t=Re(),o=K(),e=o.userInfo,s=async()=>{await o.logout(!0)};return(n,i)=>{var a;const r=g("el-button");return p(),_("div",De,[C(" Hi, "+w(((a=c(e))==null?void 0:a.nickname)||"")+" ",1),v("div",Fe,[v("p",null,w(c(re)(c(t),"{yy}/{mm}/{dd} {h}:{i}")),1),d(r,{class:"custom-button-4 ml-10",onClick:s},{default:m(()=>[C("登出")]),_:1})])])}}}),Ee={style:{"max-height":"100vh"}},Be=k({__name:"index",setup(l){return(t,o)=>(p(),_("div",Ee,[d(c(oe),null,{default:m(()=>[d(c(B),{xs:4,sm:4,md:4,lg:3,xl:3},{default:m(()=>[d(he,{class:"sidebar-container"})]),_:1}),d(c(B),{xs:20,sm:20,md:20,lg:21,xl:21},{default:m(()=>[d(Ne),d(Ce),d(be)]),_:1})]),_:1})]))}});export{Be as default};
