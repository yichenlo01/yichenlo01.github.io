import{S as V,l as y}from"./shared_define-CtYCWYIw.js";import{b as N,a as T,t as v,e as p,m as h}from"./multiTag-ix6R9492.js";import{b as O,r as J,c as L,_ as E}from"./index-Dh2Helq-.js";import{d as R,b as x,I as U,ac as t,u as $,j as a,g as n,J as c,L as B,e as d,ak as D,al as M,o as q,n as A}from"./element-plus-C_WOaAPH.js";const P=u=>(D("data-v-7ced6235"),u=u(),M(),u),j={class:"login-container"},G=["src"],H={class:"login-box"},W={class:"login-form"},z={style:{"text-align":"center"}},F={class:"btm-text"},K=P(()=>t("div",{style:{"text-align":"center"}},[t("span",{class:"btm-text"},"密碼 qq123456")],-1)),Q={style:{"text-align":"center"}},X={class:"btm-text"},Y=R({__name:"index",setup(u){const w=x(V.CLIENT_VERSION),o=x({username:"",password:""}),f=N(),I=T(),g=O(),k=l=>{const s=JSON.parse(v.getItem("user/pf_list")).result.find(i=>i.username===l);s?(o.value.username=l,o.value.password=s.password):(o.value.username="",o.value.password="",p.error("找不到使用者"))},b=async l=>{const s=JSON.parse(v.getItem("user/pf_list")).result.find(i=>i.username===o.value.username);s&&s.password===o.value.password?(p.success("登入成功"),s.token="17fab198b3fde21caad7ff15560d9768",sessionStorage.setItem("role",JSON.stringify(s)),h.role=s,document.cookie="token=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",f.setToken(s.token),f.setUser(s),J.value=s.role_id,L(g),I.clearAll(!1),l&&f.setIsLoginAndPunch(!0),await A(),g.push("/dashboard")):p.error("用戶名或密碼輸入錯誤")},S=()=>{for(const l in h)v.removeItem(l);p.success("清除成功")};return(l,e)=>{const m=d("IconifyIconOffline"),s=d("el-input"),i=d("el-form-item"),_=d("el-button"),C=d("el-form");return q(),U("div",j,[t("div",null,[t("img",{src:$(y),class:"logo"},null,8,G)]),t("div",H,[t("div",W,[a(C,{ref:"formRef",model:o.value,"label-width":"auto","label-position":"top"},{default:n(()=>[a(i,{label:"用戶名",prop:"user"},{default:n(()=>[a(s,{modelValue:o.value.username,"onUpdate:modelValue":e[0]||(e[0]=r=>o.value.username=r),placeholder:"請輸入用户名",class:"user"},{prefix:n(()=>[a(m,{icon:"iconoir-user",width:18})]),_:1},8,["modelValue"])]),_:1}),a(i,{label:"密碼",prop:"pwd"},{default:n(()=>[a(s,{modelValue:o.value.password,"onUpdate:modelValue":e[1]||(e[1]=r=>o.value.password=r),placeholder:"請輸入密碼","show-password":""},{prefix:n(()=>[a(m,{icon:"uil-lock",width:18})]),_:1},8,["modelValue"])]),_:1}),a(_,{class:"btn mt-3.75rem",onClick:e[2]||(e[2]=r=>b(!1))},{default:n(()=>[c("登入")]),_:1}),a(_,{class:"btn mt-1rem",onClick:e[3]||(e[3]=r=>b(!0))},{default:n(()=>[c("上班打卡 & 登入")]),_:1}),a(_,{class:"btn mt-1rem",onClick:S},{default:n(()=>[c("清除儲存空間")]),_:1})]),_:1},8,["model"]),t("div",z,[t("span",F,[c("用戶 "),t("span",{class:"hot-click",onClick:e[4]||(e[4]=r=>k("admin"))},"admin"),c(" 或 "),t("span",{class:"hot-click",onClick:e[5]||(e[5]=r=>k("user"))},"user")])]),K,t("div",Q,[t("span",X,"v"+B(w.value),1)])])])])}}}),oe=E(Y,[["__scopeId","data-v-7ced6235"]]);export{oe as default};
