var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},__awaiter=this&&this.__awaiter||function(t,e,i,r){return new(i||(i=Promise))(function(s,h){function n(t){try{o(r.next(t))}catch(e){h(e)}}function a(t){try{o(r["throw"](t))}catch(e){h(e)}}function o(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(n,a)}o((r=r.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function i(t){return function(e){return r([t,e])}}function r(i){if(s)throw new TypeError("Generator is already executing.");for(;o;)try{if(s=1,h&&(n=h[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(h,i[1])).done)return n;switch(h=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,h=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(r){i=[6,r],h=0}finally{s=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var s,h,n,a,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},p2DebugDraw=function(){function t(t,e){this.COLOR_D_SLEEP=10066329,this.COLOR_D_WAKE=15053490,this.COLOR_K=8355813,this.COLOR_S=8381823,this.COLOR_BLACK=0,this.COLOR_RED=16711680,this.isDrawAABB=!1,this.factor=30,this.world=t,this.sprite=e}return t.prototype.drawDebug=function(){this.sprite.graphics.clear();for(var t=this.world.bodies.length,e=0;t>e;e++)for(var i=this.world.bodies[e],r=0;r<i.shapes.length;r++){var s=i.shapes[r];this.drawShape(s,i),this.isDrawAABB&&this.drawAABB(i)}t=this.world.constraints.length;for(var h,r=0;t>r;r++)switch(h=this.world.constraints[r],h.type){case p2.Constraint.DISTANCE:this.drawDistanceJoint(h);break;case p2.Constraint.REVOLUTE:this.drawRevoluteJoint(h);break;case p2.Constraint.GEAR:this.drawGearJoint(h);break;case p2.Constraint.PRISMATIC:this.drawPrismaticJoint(h);break;case p2.Constraint.LOCK:this.drawLockJoint(h)}t=this.world.springs.length;for(var n,a=0;t>a;a++)n=this.world.springs[a],n instanceof p2.LinearSpring?this.drawLinearSpring(n):n instanceof p2.RotationalSpring&&this.drawRotationalSpring(n)},t.prototype.drawAABB=function(t){var e=new Array,i=t.aabb.lowerBound[0],r=t.aabb.lowerBound[1],s=t.aabb.upperBound[0],h=t.aabb.upperBound[1];isFinite(i)&&isFinite(r)&&isFinite(s)&&isFinite(h)&&(e.push([i,r],[s,r],[s,h],[i,h]),this.drawConvex(e,this.COLOR_S,1,!1))},t.prototype.drawDistanceJoint=function(t){var e,i=new Array,r=new Array;e=t.distance,t.upperLimitEnabled&&t.upperLimit>e&&(e=t.upperLimit),t.bodyA.toWorldFrame(i,t.localAnchorA),t.bodyB.toWorldFrame(r,t.localAnchorB);var s=p2.vec2.subtract([],r,i);p2.vec2.normalize(s,s),p2.vec2.scale(s,s,e);var h=p2.vec2.add([],i,s);this.drawSegment(i,t.bodyA.position,this.COLOR_S),this.drawSegment(r,t.bodyB.position,this.COLOR_S),this.drawVecAt(s,i,this.COLOR_BLACK),t.position>e&&this.drawSegment(r,h,this.COLOR_RED),this.drawCircle(i,3/this.factor,this.COLOR_BLACK),this.drawCircle(h,3/this.factor,this.COLOR_BLACK),t.lowerLimitEnabled&&(p2.vec2.normalize(s,s),p2.vec2.scale(s,s,t.lowerLimit),h=p2.vec2.add([],i,s),this.drawCircle(h,2/this.factor,this.COLOR_BLACK))},t.prototype.drawRevoluteJoint=function(t){var e=new Array,i=new Array;t.bodyA.toWorldFrame(e,t.pivotA),t.bodyB.toWorldFrame(i,t.pivotB),this.drawSegment(t.bodyA.position,e,this.COLOR_S),this.drawSegment(t.bodyB.position,i,this.COLOR_S),this.drawSegment(e,i,this.COLOR_RED),this.drawCircle(e,3/this.factor,this.COLOR_BLACK)},t.prototype.drawGearJoint=function(t){var e=t.bodyA.position,i=t.bodyB.position,r=new Array,s=new Array;t.bodyA.toWorldFrame(r,[20/this.factor,0]),t.bodyB.toWorldFrame(s,[20/this.factor,0]);var h=p2.vec2.subtract([],e,r),n=p2.vec2.subtract([],i,s);this.drawVecAt(h,e,this.COLOR_BLACK,!0),this.drawVecAt(n,i,this.COLOR_BLACK,!0),t.bodyB.toWorldFrame(n,[10*(t.bodyB.angle-t.bodyA.angle-t.angle)/this.factor,0]),this.drawSegment(n,i,this.COLOR_RED)},t.prototype.drawPrismaticJoint=function(t){var e=(t.bodyA.position,t.bodyB.position,new Array),i=new Array;t.bodyA.toWorldFrame(e,t.localAnchorA),t.bodyB.toWorldFrame(i,t.localAnchorB);var r=new Array;r=this.toWorldVector(t.localAxisA,t.bodyA);var s=p2.vec2.copy([],r),h=p2.vec2.copy([],r);t.lowerLimitEnabled?p2.vec2.scale(s,r,t.lowerLimit):p2.vec2.scale(s,r,5e3),t.upperLimitEnabled?p2.vec2.scale(h,r,t.upperLimit):p2.vec2.scale(h,r,5e3),this.drawVecAt(s,e,this.COLOR_BLACK,!0),this.drawVecAt(h,e,this.COLOR_BLACK,!0),p2.vec2.add(s,s,e),this.drawCircle(s,2/this.factor,this.COLOR_BLACK,1,!0),p2.vec2.add(h,h,e),this.drawCircle(h,2/this.factor,this.COLOR_BLACK,1,!0)},t.prototype.drawLockJoint=function(t){var e=new Array;new Array;t.bodyA.toWorldFrame(e,t.localOffsetB),this.drawSegment(e,t.bodyA.position,this.COLOR_S),this.drawSegment(e,t.bodyB.position,this.COLOR_RED),this.drawCircle(e,3/this.factor,this.COLOR_BLACK);var i=new Array;t.bodyA.toWorldFrame(i,[20/this.factor,0]),this.drawSegment(i,t.bodyA.position,this.COLOR_BLACK),t.bodyB.toWorldFrame(i,[20/this.factor,0]),this.drawSegment(i,t.bodyB.position,this.COLOR_BLACK)},t.prototype.drawLinearSpring=function(t){var e=new Array,i=new Array;t.bodyA.toWorldFrame(e,t.localAnchorA),t.bodyB.toWorldFrame(i,t.localAnchorB);var r=p2.vec2.subtract([],i,e);p2.vec2.normalize(r,r),p2.vec2.scale(r,r,t.restLength);var s=p2.vec2.add([],t.bodyA.position,r);this.drawSegment(s,t.bodyB.position,this.COLOR_RED),this.drawVecAt(r,e,this.COLOR_BLACK),this.drawCircle(e,3/this.factor,this.COLOR_RED),this.drawCircle(s,3/this.factor,this.COLOR_RED)},t.prototype.drawRotationalSpring=function(t){var e=new Array,i=new Array;e=t.bodyA.position,i=t.bodyB.position;var r=new Array,s=new Array;t.bodyA.toWorldFrame(r,[20/this.factor,0]),t.bodyB.toWorldFrame(s,[10*(t.bodyB.angle-t.bodyA.angle-t.restAngle+2)/this.factor,0]);var h=p2.vec2.subtract([],r,e),n=p2.vec2.subtract([],s,i);this.drawVecAt(h,e,this.COLOR_RED,!0),this.drawVecAt(n,i,this.COLOR_RED,!0),t.bodyB.toWorldFrame(s,[20/this.factor,0]),this.drawCircle(r,2/this.factor,this.COLOR_RED),this.drawCircle(s,2/this.factor,this.COLOR_RED)},t.prototype.drawShape=function(t,e,i,r){var i=void 0==i?this.getColor(e):i,r=void 0==r?!0:r;t instanceof p2.Convex?this.drawConvexShape(t,e,i,r):t instanceof p2.Plane?this.drawPlaneShape(t,e,i,r):t instanceof p2.Circle?this.drawCircleShape(t,e,i,r):t instanceof p2.Capsule?this.drawCapsule(t,e,i):t instanceof p2.Particle?this.drawParticle(t,e,i):t instanceof p2.Line?this.drawLine(t,e,i):t instanceof p2.Heightfield&&this.drawHeightfeild(t,e,i)},t.prototype.drawConvexShape=function(t,e,i,r){var s=(e.shapes.indexOf(t),t.position),h=t.angle,n=[],a=this.transformVec(t.vertices[0],s,h);e.toWorldFrame(n,s),e.toWorldFrame(a,a),this.drawSegment(n,a,i);for(var o=new Array,d=t.vertices.length,l=0;d>l;l++)a=this.transformVec(t.vertices[l],s,h),e.toWorldFrame(a,a),o.push(a);this.drawConvex(o,i,.5,r)},t.prototype.drawParticle=function(t,e,i){this.drawCircle(e.position,1/this.factor,i,.5),this.drawCircle(e.position,5/this.factor,i,1,!1)},t.prototype.drawLine=function(t,e,i){var r=t.length,s=new Array,h=new Array;e.toWorldFrame(s,[-r/2,0]),e.toWorldFrame(h,[r/2,0]),this.drawSegment(s,h,i)},t.prototype.drawHeightfeild=function(t,e,i){var r=this.sprite.graphics;r.lineStyle(1,i),r.beginFill(i,.5);var s,h=t.heights,n=t.elementWidth,a=new Array,o=new Array;h.forEach(function(t,i){s=i*n,a=new Array,e.toWorldFrame(a,[s,t]),o.push(a)}),a=new Array,e.toWorldFrame(a,[s,-500]),o.push(a),a=new Array,e.toWorldFrame(a,[0,-500]),o.push(a),a=new Array,e.toWorldFrame(a,[0,0]),o.push(a),this.drawConvex(o,i,.5)},t.prototype.drawCapsule=function(t,e,i){var r=t.length,s=t.radius,h=new Array,n=new Array,a=new Array,o=new Array,d=new Array,l=new Array;e.toWorldFrame(h,[-r/2,-s]),e.toWorldFrame(n,[r/2,-s]),e.toWorldFrame(a,[r/2,s]),e.toWorldFrame(o,[-r/2,s]),e.toWorldFrame(d,[r/2,0]),e.toWorldFrame(l,[-r/2,0]),this.drawCircle(d,s,i,.5),this.drawCircle(l,s,i,.5),this.drawConvex([h,n,a,o],i,.5)},t.prototype.drawCircleShape=function(t,e,i,r){var s=t.position,h=t.angle,n=new Array;e.toWorldFrame(n,s),this.drawCircle(n,t.radius,i,.5,r);var a=this.transformVec([t.radius,0],s,h);e.toWorldFrame(a,a),this.drawSegment(n,a,i)},t.prototype.drawPlaneShape=function(t,e,i,r){var s=new Array,h=new Array;e.shapes.indexOf(t);e.toWorldFrame(s,[1e3,0]),s=this.transformVec(s,t.position,t.angle),h.push(s),s=new Array,e.toWorldFrame(s,[1e3,-1e5]),s=this.transformVec(s,t.position,t.angle),h.push(s),s=new Array,e.toWorldFrame(s,[-1e3,-1e5]),s=this.transformVec(s,t.position,t.angle),h.push(s),s=new Array,e.toWorldFrame(s,[-1e3,0]),s=this.transformVec(s,t.position,t.angle),h.push(s),this.drawConvex(h,i,.5,r)},t.prototype.getColor=function(t){var e=this.COLOR_D_SLEEP;return t.type==p2.Body.KINEMATIC?e=this.COLOR_K:t.type==p2.Body.STATIC?e=this.COLOR_S:t.sleepState==p2.Body.AWAKE&&(e=this.COLOR_D_WAKE),e},t.prototype.drawVecAt=function(t,e,i,r){void 0===r&&(r=!1);var s=p2.vec2.copy([],e),h=p2.vec2.add([],t,e);r&&this.drawCircle(s,3/this.factor,i),this.drawSegment(s,h,i)},t.prototype.drawVecTo=function(t,e,i,r){void 0===r&&(r=!1);var s=p2.vec2.copy([],e),h=p2.vec2.subtract([],e,t);r&&this.drawCircle(s,3/this.factor,i),this.drawSegment(s,h,i)},t.prototype.drawSegment=function(t,e,i){this.sprite.graphics.lineStyle(1,i),this.sprite.graphics.moveTo(t[0]*this.factor,t[1]*this.factor),this.sprite.graphics.lineTo(e[0]*this.factor,e[1]*this.factor)},t.prototype.drawCircle=function(t,e,i,r,s){void 0===r&&(r=1),this.sprite.graphics.lineStyle(1,i),(s||void 0==s)&&this.sprite.graphics.beginFill(i,r),this.sprite.graphics.drawCircle(t[0]*this.factor,t[1]*this.factor,e*this.factor),this.sprite.graphics.endFill()},t.prototype.drawConvex=function(t,e,i,r){void 0===i&&(i=1),void 0===r&&(r=!0),this.sprite.graphics.lineStyle(1,e),r&&this.sprite.graphics.beginFill(e,i);var s=t.length,h=t[0];this.sprite.graphics.moveTo(h[0]*this.factor,h[1]*this.factor);for(var n=1;s>=n;n++)h=t[n%s],this.sprite.graphics.lineTo(h[0]*this.factor,h[1]*this.factor);this.sprite.graphics.endFill()},t.prototype.toWorldVector=function(t,e){var i=new Array;return p2.vec2.rotate(i,t,e.angle),i},t.prototype.transformVec=function(t,e,i){var r=new Array;return p2.vec2.rotate(r,t,i),p2.vec2.add(r,r,e),r},t.prototype.drawDotLine=function(t,e,i,r){if(void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=30),!(t.length<2)){var s=2/this.factor,h=[];p2.vec2.copy(h,t[0]),this.drawCircle(h,s,e,1,!1);for(var n=0;n<t.length-2;n++){var a=t[n];if(i)for(var o=p2.vec2.distance(h,a);o>r/this.factor;){var d=[];p2.vec2.subtract(d,a,h),p2.vec2.scale(d,d,r/this.factor/o),p2.vec2.add(h,h,d),this.drawCircle(h,s,e,1,!1),o=p2.vec2.distance(h,a)}else this.drawCircle(a,s,e,1,!1)}}},t}();__reflect(p2DebugDraw.prototype,"p2DebugDraw");var BetArae=function(t){function e(e,i,r,s,h){var n=t.call(this)||this;return n.lastBetMoney=0,n.betMoney=0,n.bet=!1,n.odds=h,n.area=n.createBox(e,i,r,s),n.addChild(n.area),n.area.touchEnabled=!0,n.chip=new egret.Bitmap,n.chip.texture=RES.getRes("betchip_100_png"),n.chip.scaleX=.2,n.chip.scaleY=.2,n.chip.anchorOffsetX=n.chip.width/2,n.chip.anchorOffsetY=n.chip.height/2,n.chip.x=n.area.x+n.area.width/2,n.chip.y=n.area.y+n.area.height/2,n.chip.visible=!1,n.addChild(n.chip),n}return __extends(e,t),e.prototype.createBox=function(t,e,i,r){var s=new egret.Sprite;return s.graphics.beginFill(0),s.graphics.drawRect(0,0,t,e),s.graphics.endFill(),s.alpha=0,s.x=i,s.y=r,s},e.prototype.setBet=function(){this.bet=!0},e.prototype.getBet=function(){return this.bet},e.prototype.betMoneyFun=function(t){1==this.bet&&(this.betMoney=t,this.lastBetMoney=t,this.setClips(t),this.chip.visible=!0)},e.prototype.setClips=function(t){switch(t){case 100:this.chip.texture=RES.getRes("betchip_100_png");break;case 200:this.chip.texture=RES.getRes("betchip_200_png")}},e.prototype.getLastBetMoney=function(){return this.lastBetMoney},e.prototype.getWin=function(){var t;return t=this.betMoney*this.odds},e.prototype.closeTouch=function(){this.area.touchEnabled=!1},e.prototype.reset=function(){this.area.touchEnabled=!0,this.lastBetMoney=0,this.betMoney=0,this.bet=!1,this.chip.visible=!1},e}(egret.DisplayObjectContainer);__reflect(BetArae.prototype,"BetArae");var GameContainer=function(t){function e(){var e=t.call(this)||this;return e.selectClip=[],e.touchEnabled=!0,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(){this.currentMoney=1e3,this.currentBetMoney=100,this.win=0,this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.roulette=new Roulette2,this.betTable=new BetTable,this.addChild(this.betTable),this.resultText=new egret.TextField,this.resultText.textColor=16777215,this.resultText.text="Result Input : ",this.resultText.x=300,this.resultText.y=500,this.addChild(this.resultText),this.resultInput=new egret.TextField,this.resultInput.type=egret.TextFieldType.INPUT,this.resultInput.x=300,this.resultInput.y=540,this.resultInput.width=45,this.resultInput.height=45,this.resultInput.textColor=0,this.resultInput.maxChars=2,this.resultInput.text=""+Math.floor(12*Math.random()),this.resultInput.addEventListener(egret.Event.CHANGE,this.changeResult,this),this.resultTextBg=new egret.Sprite,this.resultTextBg.graphics.beginFill(16777215),this.resultTextBg.graphics.drawRect(this.resultInput.x,this.resultInput.y,this.resultInput.width,this.resultInput.height),this.resultTextBg.graphics.endFill(),this.addChild(this.resultTextBg),this.addChild(this.resultInput),this.spinBtn=new egret.Bitmap,this.spinBtn.texture=RES.getRes("spinBtn_png"),this.spinBtn.x=500,this.spinBtn.y=430,this.addChild(this.spinBtn),this.spinBtn.touchEnabled=!0,this.spinBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.gameSpin,this),this.cancelBtn=new egret.Bitmap,this.cancelBtn.texture=RES.getRes("cancelBtn_png"),this.cancelBtn.x=790,this.cancelBtn.y=478,this.cancelBtn.scaleX=.5,this.cancelBtn.scaleY=.5,this.addChild(this.cancelBtn),this.cancelBtn.touchEnabled=!0,this.cancelBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.cancelBet,this),this.currentMoneyText=new egret.TextField,this.currentMoneyText.textColor=16777215,this.currentMoneyText.text="Money : ",this.currentMoneyText.x=300,this.currentMoneyText.y=410,this.addChild(this.currentMoneyText),this.moneyText=new egret.TextField,this.moneyText.textColor=16777215,this.moneyText.text=""+this.currentMoney,this.moneyText.x=300,this.moneyText.y=450,this.addChild(this.moneyText),this.rule="1 Number , Payout=10:1\n4 Number , Payout=3:1\n6 Number , Payout=10:2",this.ruleText=new egret.TextField,this.ruleText.textColor=16777215,this.ruleText.text="1 Number , Payout = 10 : 1\n\n4 Numbers , Payout = 3 : 1\n\n6 Numbers , Payout = 2 : 1",this.ruleText.size=12,this.ruleText.x=800,this.ruleText.y=100,this.addChild(this.ruleText),this.createBetArea(),this.createSelectArea(),this.createUpdateMoneyTimer(),this.updateMoneyTimer.start(),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBegan,this)},e.prototype.createBetArea=function(){this.betArea=[],this.betArea[0]=new BetArae(38,84,382,162,10),this.addChild(this.betArea[0]),this.betArea[0].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[1]=new BetArae(55,45,424,230,10),this.addChild(this.betArea[1]),this.betArea[1].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[2]=new BetArae(55,45,424,180,10),this.addChild(this.betArea[2]),this.betArea[2].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[3]=new BetArae(55,45,424,131,10),this.addChild(this.betArea[3]),this.betArea[3].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[4]=new BetArae(55,45,485,230,10),this.addChild(this.betArea[4]),this.betArea[4].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[5]=new BetArae(55,45,485,180,10),this.addChild(this.betArea[5]),this.betArea[5].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[6]=new BetArae(55,45,485,131,10),this.addChild(this.betArea[6]),this.betArea[6].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[7]=new BetArae(55,45,544,230,10),this.addChild(this.betArea[7]),this.betArea[7].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[8]=new BetArae(55,45,544,180,10),this.addChild(this.betArea[8]),this.betArea[8].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[9]=new BetArae(55,45,544,131,10),this.addChild(this.betArea[9]),this.betArea[9].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[10]=new BetArae(55,45,604,230,10),this.addChild(this.betArea[10]),this.betArea[10].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[11]=new BetArae(55,45,604,180,10),this.addChild(this.betArea[11]),this.betArea[11].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[12]=new BetArae(55,45,604,131,10),this.addChild(this.betArea[12]),this.betArea[12].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[13]=new BetArae(40,45,664,230,3),this.addChild(this.betArea[13]),this.betArea[13].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[14]=new BetArae(40,45,664,180,3),this.addChild(this.betArea[14]),this.betArea[14].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[15]=new BetArae(40,45,664,131,3),this.addChild(this.betArea[15]),this.betArea[15].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[16]=new BetArae(73,26,424,284,2),this.addChild(this.betArea[16]),this.betArea[16].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[17]=new BetArae(79,26,502,284,2),this.addChild(this.betArea[17]),this.betArea[17].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[18]=new BetArae(73,26,586,284,2),this.addChild(this.betArea[18]),this.betArea[18].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[19]=new BetArae(56,29,424,314,2),this.addChild(this.betArea[19]),this.betArea[19].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[20]=new BetArae(56,29,603,314,2),this.addChild(this.betArea[20]),this.betArea[20].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[21]=new BetArae(56,29,484,314,2),this.addChild(this.betArea[21]),this.betArea[21].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this),this.betArea[22]=new BetArae(56,29,544,314,2),this.addChild(this.betArea[22]),this.betArea[22].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.betFunc,this)},e.prototype.betFunc=function(t){switch(t.currentTarget){case this.betArea[0]:this.betAreaSet(0);break;case this.betArea[1]:this.betAreaSet(1);break;case this.betArea[2]:this.betAreaSet(2);break;case this.betArea[3]:this.betAreaSet(3);break;case this.betArea[4]:this.betAreaSet(4);break;case this.betArea[5]:this.betAreaSet(5);break;case this.betArea[6]:this.betAreaSet(6);break;case this.betArea[7]:this.betAreaSet(7);break;case this.betArea[8]:this.betAreaSet(8);break;case this.betArea[9]:this.betAreaSet(9);break;case this.betArea[10]:this.betAreaSet(10);break;case this.betArea[11]:this.betAreaSet(11);break;case this.betArea[12]:this.betAreaSet(12);break;case this.betArea[13]:this.betAreaSet(13);break;case this.betArea[14]:this.betAreaSet(14);break;case this.betArea[15]:this.betAreaSet(15);break;case this.betArea[16]:this.betAreaSet(16);break;case this.betArea[17]:this.betAreaSet(17);break;case this.betArea[18]:this.betAreaSet(18);break;case this.betArea[19]:this.betAreaSet(19);break;case this.betArea[20]:this.betAreaSet(20);break;case this.betArea[21]:this.betAreaSet(21);break;case this.betArea[22]:this.betAreaSet(22)}},e.prototype.betAreaSet=function(t){this.currentBetMoney<=this.currentMoney&&(this.betArea[t].setBet(),this.currentMoney+=this.betArea[t].getLastBetMoney(),this.currentMoney-=this.currentBetMoney,this.betArea[t].betMoneyFun(this.currentBetMoney))},e.prototype.gameSpin=function(){for(var t=0;22>=t;t++)this.betArea[t].closeTouch();this.blackPlane=new egret.Sprite,this.blackPlane.graphics.beginFill(0),this.blackPlane.graphics.drawRect(0,0,this.stage.stageWidth,this.stage.stageHeight),this.blackPlane.graphics.endFill(),this.blackPlane.alpha=.8,this.addChild(this.blackPlane),this.roulette=new Roulette2,this.roulette.setppNum(Number(this.resultInput.text)),this.roulette.randomStartAngle(),this.addChild(this.roulette),this.spinBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.gameSpin,this),this.roulette.addEventListener("showWin",this.showWin,this)},e.prototype.changeResult=function(){var t=Number(this.resultInput.text);0!=t&&1!=t&&2!=t&&3!=t&&4!=t&&5!=t&&6!=t&&7!=t&&8!=t&&9!=t&&10!=t&&11!=t&&12!=t&&(this.resultInput.text="0")},e.prototype.touchBegan=function(t){t.stageX,t.stageY},e.prototype.createSelectArea=function(){this.selectText=new egret.TextField,this.selectText.textColor=16777215,this.selectText.text="Select Bet Chips : ",this.selectText.x=20,this.selectText.y=410,this.addChild(this.selectText),this.currentText=new egret.TextField,this.currentText.textColor=16777215,this.currentText.text="Current Bet Chip : ",this.currentText.x=20,this.currentText.y=500,this.addChild(this.currentText),this.chip_100=new egret.Bitmap,this.chip_100.texture=RES.getRes("betchip_100_png"),this.chip_100.scaleX=.3,this.chip_100.scaleY=.3,this.chip_100.x=50,this.chip_100.y=450,this.chip_100.touchEnabled=!0,this.chip_100.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.changeChips,this),this.addChild(this.chip_100),this.chip_200=new egret.Bitmap,this.chip_200.texture=RES.getRes("betchip_200_png"),this.chip_200.scaleX=.3,this.chip_200.scaleY=.3,this.chip_200.x=100,this.chip_200.y=450,this.chip_200.touchEnabled=!0,this.chip_200.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.changeChips,this),this.addChild(this.chip_200),this.currentClip=new egret.Bitmap,this.currentClip.texture=RES.getRes("betchip_100_png"),this.currentClip.scaleX=.3,this.currentClip.scaleY=.3,this.currentClip.x=50,this.currentClip.y=540,this.addChild(this.currentClip)},e.prototype.changeChips=function(t){switch(t.currentTarget){case this.chip_100:this.currentClip.texture=RES.getRes("betchip_100_png"),this.currentBetMoney=100;break;case this.chip_200:this.currentClip.texture=RES.getRes("betchip_200_png"),this.currentBetMoney=200}},e.prototype.createUpdateMoneyTimer=function(){this.updateMoneyTimer=new egret.Timer(300,0),this.updateMoneyTimer.addEventListener(egret.TimerEvent.TIMER,function(){this.moneyText.text=""+this.currentMoney},this)},e.prototype.showWin=function(){var t=0,e=Number(this.resultInput.text);1==this.betArea[0].getBet()&&0==e&&(t+=this.betArea[0].getWin()),1==this.betArea[1].getBet()&&1==e&&(t+=this.betArea[1].getWin()),1==this.betArea[2].getBet()&&2==e&&(t+=this.betArea[2].getWin()),1==this.betArea[3].getBet()&&3==e&&(t+=this.betArea[3].getWin()),1==this.betArea[4].getBet()&&4==e&&(t+=this.betArea[4].getWin()),1==this.betArea[5].getBet()&&5==e&&(t+=this.betArea[5].getWin()),1==this.betArea[6].getBet()&&6==e&&(t+=this.betArea[6].getWin()),1==this.betArea[7].getBet()&&7==e&&(t+=this.betArea[7].getWin()),1==this.betArea[8].getBet()&&8==e&&(t+=this.betArea[8].getWin()),1==this.betArea[9].getBet()&&9==e&&(t+=this.betArea[9].getWin()),1==this.betArea[10].getBet()&&10==e&&(t+=this.betArea[10].getWin()),1==this.betArea[11].getBet()&&11==e&&(t+=this.betArea[11].getWin()),1==this.betArea[12].getBet()&&12==e&&(t+=this.betArea[12].getWin()),1==this.betArea[13].getBet()&&(1==e||4==e||7==e||10==e)&&(t+=this.betArea[13].getWin()),1==this.betArea[14].getBet()&&(2==e||5==e||8==e||11==e)&&(t+=this.betArea[14].getWin()),1==this.betArea[15].getBet()&&(3==e||6==e||9==e||12==e)&&(t+=this.betArea[15].getWin()),1==this.betArea[16].getBet()&&(1==e||2==e||3==e||4==e||5==e||6==e)&&(t+=this.betArea[16].getWin()),1==this.betArea[17].getBet()&&(4==e||5==e||6==e||7==e||8==e||9==e)&&(t+=this.betArea[17].getWin()),1==this.betArea[18].getBet()&&(7==e||8==e||9==e||10==e||11==e||12==e)&&(t+=this.betArea[18].getWin()),1==this.betArea[19].getBet()&&(2==e||4==e||6==e||8==e||10==e||12==e)&&(t+=this.betArea[19].getWin()),1==this.betArea[20].getBet()&&(1==e||3==e||5==e||7==e||9==e||11==e)&&(t+=this.betArea[20].getWin()),1==this.betArea[21].getBet()&&(2==e||4==e||6==e||8==e||10==e||12==e)&&(t+=this.betArea[21].getWin()),1==this.betArea[22].getBet()&&(1==e||3==e||5==e||7==e||9==e||11==e)&&(t+=this.betArea[22].getWin()),this.winText=new egret.TextField,this.winText.textColor=16777215,this.winText.text="You Win :"+t,this.winText.x=500,this.winText.y=200,this.addChild(this.winText),this.okBtn=new egret.Bitmap,this.okBtn.texture=RES.getRes("okBtn_png"),this.okBtn.x=550,this.okBtn.y=250,this.okBtn.touchEnabled=!0,this.okBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.nextTurn,this),this.addChild(this.okBtn),this.currentMoney+=t},e.prototype.judge_oneNum=function(t){var e=Number(this.resultInput.text);1==this.betArea[t].getBet()&&e==t&&(this.win+=this.betArea[t].getWin())},e.prototype.judge_fourNum=function(t,e,i,r,s){var h=Number(this.resultInput.text);1==this.betArea[t].getBet()&&(h==e||h==i||h==r||h==s)&&(this.win+=this.betArea[t].getWin())},e.prototype.judge_sixNum=function(t,e,i,r,s,h,n){var a=Number(this.resultInput.text);1==this.betArea[t].getBet()&&(a==e||a==i||a==r||a==s||a==h||a==n)&&(this.win+=this.betArea[t].getWin())},e.prototype.nextTurn=function(){this.removeChild(this.okBtn),this.removeChild(this.winText),this.roulette.removeChildren(),this.removeChild(this.blackPlane),this.spinBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.gameSpin,this);for(var t=0;22>=t;t++)this.betArea[t].reset();this.resultInput.text=""+Math.floor(12*Math.random())},e.prototype.cancelBet=function(){for(var t=0;22>=t;t++)this.currentMoney+=this.betArea[t].getLastBetMoney(),this.betArea[t].reset()},e}(egret.DisplayObjectContainer);__reflect(GameContainer.prototype,"GameContainer");var GameUtil=function(){function t(){}return t.hitTest=function(t,e){var i=t.getBounds(),r=e.getBounds();return i.x=t.x,i.y=t.y,r.x=e.x,r.y=e.y,i.intersects(r)},t}();__reflect(GameUtil.prototype,"GameUtil");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.onProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var Main=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){egret.lifecycle.addLifecycleListener(function(t){t.onUpdate=function(){}}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()},this.runGame()["catch"](function(t){console.log(t)})},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(i){switch(i.label){case 0:return[4,this.loadResource()];case 1:return i.sent(),this.createGameScene(),[4,RES.getResAsync("description_json")];case 2:return t=i.sent(),this.startAnimation(t),[4,platform.login()];case 3:return i.sent(),[4,platform.getUserInfo()];case 4:return e=i.sent(),console.log(e),[2]}})})},e.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),t=new LoadingUI,this.stage.addChild(t),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return i.sent(),[4,RES.loadGroup("preload",0,t)];case 2:return i.sent(),this.stage.removeChild(t),[3,4];case 3:return e=i.sent(),console.error(e),[3,4];case 4:return[2]}})})},e.prototype.createGameScene=function(){this.gameContainer=new GameContainer,this.addChild(this.gameContainer)},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e.prototype.startAnimation=function(t){var e=this,i=new egret.HtmlTextParser,r=t.map(function(t){return i.parse(t)}),s=this.textfield,h=-1,n=function(){h++,h>=r.length&&(h=0);var t=r[h];s.textFlow=t;var i=egret.Tween.get(s);i.to({alpha:1},200),i.wait(2e3),i.to({alpha:0},200),i.call(n,e)};n()},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var BetTable=function(t){function e(){var e=t.call(this)||this;return e.touchEnabled=!0,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.table=new egret.Bitmap,this.table.scaleX=1.5,this.table.scaleY=1.5,this.table.texture=RES.getRes("table_png"),this.addChild(this.table),this.panel=new egret.Bitmap,this.panel.texture=RES.getRes("panel3_png"),this.panel.scaleX=.4,this.panel.scaleY=.4,this.panel.x=90,this.panel.y=97,this.addChild(this.panel)},e.prototype.changeResult=function(){var t=Number(this.resultText.text);0!=t&&1!=t&&2!=t&&3!=t&&4!=t&&5!=t&&6!=t&&7!=t&&8!=t&&9!=t&&10!=t&&11!=t&&12!=t&&(this.resultText.text="0")},e.prototype.createBetArea=function(){var t=this.createBox(55,45,452,253);this.addChild(t),t.touchEnabled=!0,t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.oneTouch,this)},e.prototype.oneTouch=function(){this.one.setBet(),0==this.one.getBet()},e.prototype.gameSpin=function(){this.blackPlane=new egret.Sprite,this.blackPlane.graphics.beginFill(0),this.blackPlane.graphics.drawRect(0,0,this.stage.stageWidth,this.stage.stageHeight),this.blackPlane.graphics.endFill(),this.blackPlane.alpha=.8,this.addChild(this.blackPlane);var t=new Roulette2;t.setppNum(Number(this.resultText.text)),t.randomStartAngle(),this.addChild(t),this.spinBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.gameSpin,this)},e.prototype.createBox=function(t,e,i,r){var s=new egret.Sprite;return s.graphics.beginFill(16711680),s.graphics.drawRect(0,0,t,e),s.graphics.endFill(),s.x=i,s.y=r,s.anchorOffsetX=s.width/2,s.anchorOffsetY=s.height/2,s},e.prototype.layTxBg=function(t){var e=new egret.Shape;e.graphics.beginFill(16777215),e.graphics.drawRect(t.x,t.y,t.width,t.height),e.graphics.endFill(),this.addChild(e)},e}(egret.DisplayObjectContainer);__reflect(BetTable.prototype,"BetTable");var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var Roulette=function(t){function e(){var e=t.call(this)||this;return e.array2d=[["a","b","c"],["x","y","z"]],e._num=5,e.time=0,e.r=235,e.speed=2,e.wheelSpeed=4,e.traIndex=0,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.panel=new egret.Bitmap,this.panel.texture=RES.getRes("panel2_png"),this.wheel=new Wheel,this.ball=new egret.Bitmap,this.ball.texture=RES.getRes("ball_png"),this.ball.anchorOffsetX=this.ball.width/2,this.ball.anchorOffsetY=this.ball.height/2,this.addChild(this.panel),this.addChild(this.wheel),this.addChild(this.ball),this.setSheet(),this.wheel.x=300,this.wheel.y=300,this.addEventListener(egret.Event.ENTER_FRAME,this.wheelSlowDown,this),this.addEventListener(egret.Event.ENTER_FRAME,this.hitTest,this),this.createTimer(),this._timer.start(),this.createWheelTimer();
this.wheel.pp[1].localToGlobal(),egret.Tween.get(this.ball)},e.prototype.setSheet=function(){this.upSheet=new Sheet,this.upperRightSheet=new Sheet,this.rightSheet=new Sheet,this.lowerRightSheet=new Sheet,this.downSheet=new Sheet,this.lowerLeftSheet=new Sheet,this.leftSheet=new Sheet,this.upperLeftSheet=new Sheet,this.upSheet.rotation=90,this.upSheet.x=300,this.upSheet.y=75,this.addChild(this.upSheet)},e.prototype.wheelSlowDown=function(){this.wheelSpeed-=.01},e.prototype.hitTest=function(){GameUtil.hitTest(this.ball,this.upSheet)&&(this._timer.stop(),this.removeEventListener(egret.Event.ENTER_FRAME,this.hitTest,this))},e.prototype.createTimer=function(){this._timer=new egret.Timer(30,0),this._timer.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this)},e.prototype.onTimer=function(){var t=this.speed*this.time*2,e=this.r*Math.cos(t/360*(2*Math.PI))+290+this.ball.width/2,i=this.r*Math.sin(t/360*(2*Math.PI))+287+this.ball.height/2;this.ball.x=e,this.ball.y=i,this.time+=1},e.prototype.createWheelTimer=function(){this.wheelTimer=new egret.Timer(30,0),this.wheelTimer.addEventListener(egret.TimerEvent.TIMER,this.onWheelTimer,this)},e.prototype.onWheelTimer=function(){this.wheel.rotation+=this.wheelSpeed},e.prototype.setTrajectory=function(){this.trajectory=[[277,59],[265,56],[255,63],[250,77],[249,96],[247,112],[247,129],[247,147],[250,163],[254,188]]},e.prototype.createTraTimer=function(){this.traTimer=new egret.Timer(300,0),this.traTimer.addEventListener(egret.TimerEvent.TIMER,this.onTraTimer,this)},e.prototype.onTraTimer=function(){this.ball.x=this.trajectory[this.traIndex][0],this.ball.y=this.trajectory[this.traIndex][1],this.traIndex++},e}(egret.DisplayObjectContainer);__reflect(Roulette.prototype,"Roulette");var Roulette2=function(t){function e(){var e=t.call(this)||this;return e.r=255,e.speed=2,e._gravity=200,e.wheelSpeed=8,e.ring_time=0,e.ring_r=280,e.ring_speed=2,e.ring_time2=0,e.ring_time2_2=30,e.ring_time2_3=60,e.ring_r2=180,e.ring_speed2=2,e.ring_time3=0,e.ring_r3=90,e.ring_speed3=2,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.panel=new egret.Bitmap,this.panel.texture=RES.getRes("panel2_png"),this.wheel=new Wheel,this.addChild(this.panel),this.addChild(this.wheel),this.wheel.x=300,this.wheel.y=300,this.createP2(),this.createWheelTimer(),this.createRingBodyTimer(),this.createRingBodyTimer2(),this.createRingBodyTimer3(),this.createWheelSpeedDownTimer(),this.createBallRDownTimer(),this.wheelTimer.start(),this.ballRDownTimer.start(),this.addEventListener(egret.Event.ENTER_FRAME,this.hitTest,this),this.onSheet=!1,this.ringBodyTimer.start(),this.ringBodyTimer3.start(),this.addEventListener(egret.Event.ENTER_FRAME,this.innerCircleBody,this)},e.prototype.hitTest=function(){this.wheel.pp[this.ppNum].localToGlobal()},e.prototype.createP2=function(){this.world=new p2.World,this.world.sleepMode=p2.World.BODY_SLEEPING,this.world.gravity=[0,0],this.world.defaultContactMaterial.restitution=.5;var t=(new p2.Material(1e3),new p2.Material(1001),new p2.Material(1002),new p2.Circle({radius:10}));this.ballBody=new p2.Body({mass:1,angularVelocity:1,position:[0,0]}),this.ballBody.addShape(t),this.ballBody.fixedRotation=!0,this.world.addBody(this.ballBody),this.ball=new egret.Bitmap,this.ball.texture=RES.getRes("ball_png"),this.ball.anchorOffsetX=this.ball.width/2,this.ball.anchorOffsetY=this.ball.height/2,this.ballBody.displays=[this.ball],this.addChild(this.ball);var e=new p2.Circle({radius:85});this.wheelBody=new p2.Body({mass:0,angularVelocity:10,position:[300,300]}),this.wheelBody.addShape(e,[0,0],0),this.wheelBody.id=99,this.world.addBody(this.wheelBody),this.wheel2=this.createCircle(85),this.wheelBody.displays=[this.wheel2];var i=new p2.Box({width:15,height:30});this.upSheetBody=new p2.Body({mass:0,angularVelocity:-1,position:[300,75]}),this.upSheetBody.addShape(i),this.upSheetBody.fixedRotation=!0,this.world.addBody(this.upSheetBody),this.upSheet=this.createBox(15,30),this.upSheetBody.displays=[this.upSheet],this.addChild(this.upSheet);var r=new p2.Box({width:30,height:15});this.uprSheetBody=new p2.Body({mass:0,angularVelocity:10,position:[450,130]}),this.uprSheetBody.addShape(r),this.uprSheetBody.angle=.8,this.uprSheetBody.fixedRotation=!0,this.world.addBody(this.uprSheetBody),this.uprSheet=this.createBox(30,15),this.uprSheetBody.displays=[this.uprSheet],this.addChild(this.uprSheet),this.createSheet(30,15,520,300,0),this.createSheet(15,30,455,460,.8),this.createSheet(15,30,300,520,0),this.createSheet(30,15,145,460,.8),this.createSheet(30,15,80,300,0),this.createSheet(15,30,155,125,.8),this.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this.world.on("beginContact",this.onBeginContact,this),this.world.on("endContact",this.onEndContact,this),this.createTimer(),this.createTimer2(),this._timer.start()},e.prototype.createSheet=function(t,e,i,r,s){var h=new p2.Box({width:t,height:e}),n=new p2.Body({mass:0,angularVelocity:10,position:[i,r]});n.addShape(h),n.angle=s,n.fixedRotation=!0,this.world.addBody(n);var a=this.createBox(t,e);n.displays=[a],this.addChild(a)},e.prototype.onBeginContact=function(t){setTimeout(function(){}),this._timer.stop(),this._timer2.start(),this.onSheet=!0},e.prototype.onEndContact=function(t){},e.prototype.onEnterFrame=function(){this.world.step(.06);for(var t=this.world.bodies.length,e=0;t>e;e++){var i=this.world.bodies[e],r=i.displays[0];r.x=i.position[0],r.y=i.position[1],r.rotation=180*i.angle/Math.PI}},e.prototype.createBox=function(t,e){var i=new egret.Sprite;return i.graphics.beginFill(16711680),i.graphics.drawRect(0,0,t,e),i.graphics.endFill(),i.anchorOffsetX=i.width/2,i.anchorOffsetY=i.height/2,i},e.prototype.createCircle=function(t){var e=new egret.Sprite;return e.graphics.beginFill(16711680),e.graphics.drawArc(0,0,t,0,2*Math.PI,!0),e.graphics.endFill(),e},e.prototype.createPlane=function(){var t=new egret.Sprite;return t.graphics.lineStyle(10,65280),t.graphics.moveTo(0,0),t.graphics.lineTo(egret.MainContext.instance.stage.stageWidth,0),t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,this.addChild(t),t},e.prototype.createTimer=function(){this._timer=new egret.Timer(30,0),this._timer.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this)},e.prototype.onTimer=function(){var t=this.speed*this.time*2,e=this.r*Math.cos(t/360*(2*Math.PI))+290+this.ball.width/2,i=this.r*Math.sin(t/360*(2*Math.PI))+287+this.ball.height/2;this.ballBody.position[0]=e,this.ballBody.position[1]=i,this.time+=1,this.ball.x>300?this.world.gravity[0]=80:this.world.gravity[0]=-80,this.ball.y>300?this.world.gravity[1]=80:this.world.gravity[1]=-80},e.prototype.createTimer2=function(){this._timer2=new egret.Timer(30,0),this._timer2.addEventListener(egret.TimerEvent.TIMER,this.onTimer2,this)},e.prototype.onTimer2=function(){var t=this.wheel.pp[this.ppNum].localToGlobal();this.ball.y>280?this.world.gravity[1]=-this._gravity:this.ball.y<320&&(this.world.gravity[1]=this._gravity),this.ball.x>280?this.world.gravity[0]=-this._gravity:this.ball.x<320&&(this.world.gravity[0]=this._gravity),this.ball.x>=t.x-8&&this.ball.x<=t.x+8&&this.ball.y>=t.y-8&&this.ball.y<=t.y+8&&(this._timer2.stop(),this.world.gravity=[0,0],this.ballBody.mass=0,this.addEventListener(egret.Event.ENTER_FRAME,this.touchPoint,this))},e.prototype.touchPoint=function(){var t=this.wheel.pp[this.ppNum].localToGlobal();this.ball.x=t.x,this.ball.y=t.y,this.ballBody.position=[t.x,t.y],this.wheelSpeedDownTimer.start()},e.prototype.createWheelTimer=function(){this.wheelTimer=new egret.Timer(30,0),this.wheelTimer.addEventListener(egret.TimerEvent.TIMER,this.onWheelTimer,this)},e.prototype.onWheelTimer=function(){this.wheel.rotation+=this.wheelSpeed},e.prototype.createRingBodyTimer=function(){this.ringBodyTimer=new egret.Timer(5,0),this.ringBodyTimer.addEventListener(egret.TimerEvent.TIMER,this.onRingBodyTimer,this)},e.prototype.onRingBodyTimer=function(){var t=this.ring_speed*this.ring_time*2,e=this.ring_r*Math.cos(t/360*(2*Math.PI))+300,i=this.ring_r*Math.sin(t/360*(2*Math.PI))+300,r=new p2.Circle({radius:5}),s=new p2.Body({mass:0,angularVelocity:10,position:[e,i]});s.addShape(r),s.fixedRotation=!0,this.world.addBody(s);var h=this.createBox(5,5);s.displays=[h],this.ring_time+=1,90==this.ring_time&&this.ringBodyTimer.stop()},e.prototype.createRingBodyTimer2=function(){this.ringBodyTimer2=new egret.Timer(1,0),this.ringBodyTimer2.addEventListener(egret.TimerEvent.TIMER,this.onRingBodyTimer2,this)},e.prototype.onRingBodyTimer2=function(){var t=this.ring_speed2*this.ring_time2*2,e=this.ring_r2*Math.cos(t/360*(2*Math.PI))+300,i=this.ring_r2*Math.sin(t/360*(2*Math.PI))+300,r=new p2.Circle({radius:5}),s=new p2.Body({mass:0,angularVelocity:10,position:[e,i]});s.addShape(r),s.fixedRotation=!0,this.world.addBody(s);var h=this.createBox(5,5);s.displays=[h],this.ring_time2+=1;var n=this.ring_speed2*this.ring_time2_2*2,a=this.ring_r2*Math.cos(n/360*(2*Math.PI))+300,o=this.ring_r2*Math.sin(n/360*(2*Math.PI))+300,d=new p2.Circle({radius:5}),l=new p2.Body({mass:0,angularVelocity:10,position:[a,o]});l.addShape(d),l.fixedRotation=!0,this.world.addBody(l);var p=this.createBox(5,5);l.displays=[p],this.ring_time2_2+=1;var c=this.ring_speed2*this.ring_time2_3*2,u=this.ring_r2*Math.cos(c/360*(2*Math.PI))+300,g=this.ring_r2*Math.sin(c/360*(2*Math.PI))+300,y=new p2.Circle({radius:5}),b=new p2.Body({mass:0,angularVelocity:10,position:[u,g]});b.addShape(y),b.fixedRotation=!0,this.world.addBody(b);var w=this.createBox(5,5);b.displays=[w],this.ring_time2_3+=1,90==this.ring_time2_3&&this.ringBodyTimer2.stop()},e.prototype.createRingBodyTimer3=function(){this.ringBodyTimer3=new egret.Timer(1,0),this.ringBodyTimer3.addEventListener(egret.TimerEvent.TIMER,this.onRingBodyTimer3,this)},e.prototype.onRingBodyTimer3=function(){var t=this.ring_speed3*this.ring_time3*2,e=this.ring_r3*Math.cos(t/360*(2*Math.PI))+300,i=this.ring_r3*Math.sin(t/360*(2*Math.PI))+300,r=new p2.Box({width:7,height:7}),s=new p2.Body({mass:0,angularVelocity:5,position:[e,i]});s.addShape(r),this.world.addBody(s);var h=this.createBox(7,7);s.displays=[h],this.ring_time3+=2,90==this.ring_time3&&this.ringBodyTimer3.stop()},e.prototype.createWheelSpeedDownTimer=function(){this.wheelSpeedDownTimer=new egret.Timer(500,0),this.wheelSpeedDownTimer.addEventListener(egret.TimerEvent.TIMER,function(){this.wheelSpeed-=2,0==this.wheelSpeed&&(this.wheelSpeedDownTimer.stop(),this.wheelTimer.stop(),this.dispatchEventWith("showWin"))},this)},e.prototype.onWheelSpeedDownTimer=function(){this.wheelSpeed-=1,0==this.wheelSpeed&&(this.wheelSpeedDownTimer.stop(),this.wheelTimer.stop(),this.dispatchEventWith("showWin"))},e.prototype.createBallRDownTimer=function(){this.ballRDownTimer=new egret.Timer(100,0),this.ballRDownTimer.addEventListener(egret.TimerEvent.TIMER,function(){this.r-=1,1==this.onSheet&&this.ballRDownTimer.stop()},this)},e.prototype.setppNum=function(t){this.ppNum=t},e.prototype.randomStartAngle=function(){this.time=Math.floor(90*Math.random())},e.prototype.innerCircleBody=function(){this.ball.x>175&&this.ball.x<425&&this.ball.y>175&&this.ball.y<425&&(this.removeEventListener(egret.Event.ENTER_FRAME,this.innerCircleBody,this),this.ringBodyTimer2.start())},e}(egret.DisplayObjectContainer);__reflect(Roulette2.prototype,"Roulette2");var Sheet=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.sheet=new egret.Bitmap,this.sheet.texture=RES.getRes("sheet2_png"),this.sheet.scaleX=.5,this.sheet.scaleY=.5,this.sheet.anchorOffsetX=this.sheet.width/2,this.sheet.anchorOffsetY=this.sheet.height/2,this.addChild(this.sheet)},e}(egret.DisplayObjectContainer);__reflect(Sheet.prototype,"Sheet");var Wheel=function(t){function e(){var e=t.call(this)||this;return e.pp=[],e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.wheel=new egret.Bitmap,this.wheel.texture=RES.getRes("wheel2_png"),this.wheel.anchorOffsetX=this.wheel.width/2,this.wheel.anchorOffsetY=this.wheel.height/2,this.addChild(this.wheel),this.sheet=new egret.Bitmap,this.sheet.texture=RES.getRes("sheet_png"),this.draw()},e.prototype.draw=function(){for(var t=0;13>t;t++)this.pp[t]=new egret.Sprite,this.pp[t].graphics.beginFill(16711680),this.pp[t].graphics.drawArc(0,0,5,0,2*Math.PI,!0),this.pp[t].graphics.endFill(),this.addChild(this.pp[t]),this.pp[t].visible=!1;this.pp[0].x=-70,this.pp[0].y=-85,this.pp[1].x=110,this.pp[1].y=10,this.pp[2].x=-100,this.pp[2].y=-40,this.pp[3].x=75,this.pp[3].y=-80,this.pp[4].x=-0,this.pp[4].y=110,this.pp[5].x=55,this.pp[5].y=95,this.pp[6].x=-90,this.pp[6].y=65,this.pp[8].x=30,this.pp[8].y=-105,this.pp[7].x=-22,this.pp[7].y=-105,this.pp[10].x=94,this.pp[10].y=60,this.pp[9].x=-50,this.pp[9].y=97,this.pp[12].x=103,this.pp[12].y=-39,this.pp[11].x=-107,this.pp[11].y=12},e}(egret.DisplayObjectContainer);__reflect(Wheel.prototype,"Wheel");